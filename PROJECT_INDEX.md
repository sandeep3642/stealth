# Project Index

Generated: 2026-02-16 16:05:09 UTC

## Summary
- Total files indexed: `119`
- Text/code files: `105`
- Binary/media files: `14`

## File Inventory

- `Dockerfile` | mime: `text/plain` | bytes: `955` | lines: `36` | sha1: `79451525c9c70025d436ec1b1cb4313e02278255`
- `README.md` | mime: `text/plain` | bytes: `1450` | lines: `36` | sha1: `7ba16f1bf099196063e5d413cf00a5aa850b043d`
- `app/(protected)/accounts/[id]/page.tsx` | mime: `text/x-java` | bytes: `39991` | lines: `1050` | sha1: `e78a3c6d0e0e713d3bd87eb6f69ef1cc4ed7f54f`
- `app/(protected)/accounts/page.tsx` | mime: `text/x-java` | bytes: `7818` | lines: `264` | sha1: `dc8f2e49d5235b9aee81af1522833613c1526285`
- `app/(protected)/addAccount/page.tsx` | mime: `text/x-java` | bytes: `36106` | lines: `947` | sha1: `8f3919b29703c6dce6397b65a9bce68fe96c247c`
- `app/(protected)/addCategory/page.tsx` | mime: `text/x-java` | bytes: `6417` | lines: `162` | sha1: `ea7a3432ad7cec2de6b65273195ca61e260f36b3`
- `app/(protected)/addConfiguration/page.tsx` | mime: `text/x-java` | bytes: `17732` | lines: `430` | sha1: `ad43f4fae3c21450bd8c5f8d67d5ea4675e6a8bd`
- `app/(protected)/categories/[id]/page.tsx` | mime: `text/x-java` | bytes: `9891` | lines: `270` | sha1: `876a65076b61a4543ba00070a1fb335128ee8956`
- `app/(protected)/categories/page.tsx` | mime: `text/x-java` | bytes: `6064` | lines: `206` | sha1: `008590c1fda31cc5e308011c61be1c5ec1a1c4e1`
- `app/(protected)/configuration/[id]/page.tsx` | mime: `text/x-java` | bytes: `26000` | lines: `626` | sha1: `49273f8567d9231659f7f785d865a65fc253060a`
- `app/(protected)/configuration/page.tsx` | mime: `text/x-java` | bytes: `5117` | lines: `162` | sha1: `c7f2c0f7ab0c72c4b69840436f0188ba5b26c5df`
- `app/(protected)/dashboard/page.tsx` | mime: `text/x-java` | bytes: `10491` | lines: `336` | sha1: `b0fd28a26e330c9e1c1ab8b94fc63f556bc00d93`
- `app/(protected)/fleet/page.jsx` | mime: `text/x-java` | bytes: `20962` | lines: `542` | sha1: `40f422e8f36129e06d57cc79342ef6dd8e4b2c78`
- `app/(protected)/hierarchy/page.tsx` | mime: `text/x-java` | bytes: `2246` | lines: `87` | sha1: `c54f6c4359054c92816d174542706350469d7ece`
- `app/(protected)/history-tracking/[id]/data.js` | mime: `text/plain` | bytes: `625525` | lines: `22881` | sha1: `c14ca4f6e4e4050f2860325f77c002456a462218`
- `app/(protected)/history-tracking/[id]/page.tsx` | mime: `text/x-java` | bytes: `62207` | lines: `1195` | sha1: `3b55045b9d9f50bb5bc5d96d4ccf1fc4f2386a4b`
- `app/(protected)/invoices/page.tsx` | mime: `text/x-java` | bytes: `6925` | lines: `219` | sha1: `de299b1163c721cf298ff898d939f8a3c70b9ee0`
- `app/(protected)/layout.tsx` | mime: `text/x-java` | bytes: `607` | lines: `25` | sha1: `096a10f6fd97faaf0ffec091ad3725d511d2df0d`
- `app/(protected)/live-tracking/[id]/page.tsx` | mime: `text/x-java` | bytes: `42967` | lines: `1084` | sha1: `fd351bbd036902f39b5acf043987837be0c6bd97`
- `app/(protected)/manage-plans/[id]/page.tsx` | mime: `text/x-java` | bytes: `57508` | lines: `1452` | sha1: `2f14ab4bbf6f41c77303ebf41a05650d60c3ea9d`
- `app/(protected)/manage-plans/page.tsx` | mime: `text/x-java` | bytes: `5614` | lines: `200` | sha1: `1e2e58d5f40c65f1510ed693b14621d1b835f9a9`
- `app/(protected)/provisionBranding/page.tsx` | mime: `text/x-java` | bytes: `24922` | lines: `618` | sha1: `2ac666f8ebf4950311b01f4a4ebeb5118e425276`
- `app/(protected)/subscriptions/page.tsx` | mime: `text/x-java` | bytes: `6821` | lines: `204` | sha1: `76a45569c6b580e9c3f810bcd8ca9c0f90401b69`
- `app/(protected)/track-trace/layout.tsx` | mime: `text/x-java` | bytes: `191` | lines: `6` | sha1: `a1bc7361d9bacbfb17a6119a391321d8dc6960ec`
- `app/(protected)/track-trace/page.tsx` | mime: `text/html` | bytes: `14421` | lines: `342` | sha1: `d84da17af8c8038baf0f546f2b800c4f949290fd`
- `app/(protected)/users/[id]/page.tsx` | mime: `text/x-java` | bytes: `41132` | lines: `925` | sha1: `bda720e7b05c3f12c3aa470cdcfe0f6038a970cb`
- `app/(protected)/users/activity-logs/page.tsx` | mime: `text/x-java` | bytes: `4562` | lines: `182` | sha1: `40ea9c63910c7b9004cf0d43acf8c535f938f953`
- `app/(protected)/users/page.tsx` | mime: `text/x-java` | bytes: `9043` | lines: `284` | sha1: `8174ec64be89107e5709b279a7ef05f41a747bbf`
- `app/(protected)/users/roles-permissions/[id]/page.tsx` | mime: `text/x-java` | bytes: `29030` | lines: `771` | sha1: `a7b6912802eb4958eaace34691ff4d19a92dc6f2`
- `app/(protected)/users/roles-permissions/page.tsx` | mime: `text/x-java` | bytes: `5913` | lines: `194` | sha1: `cdf6df14849e09fdbbb2748024a5fa27ad468d4c`
- `app/(protected)/whiteLabel/page.tsx` | mime: `text/x-java` | bytes: `5609` | lines: `187` | sha1: `c9c286ba71439f8594218b07b3248c7bd5ce49ad`
- `app/RootClientWrapper.tsx` | mime: `text/x-java` | bytes: `1017` | lines: `35` | sha1: `15df893cc10759cae9eac7f71a2304c8efbbdfeb`
- `app/favicon.ico` | mime: `image/vnd.microsoft.icon` | bytes: `25931` | lines: `-` | sha1: `9ecfcc8f0ead0bf3d2d7c39e084b88f41cc89a2e`
- `app/globals.css` | mime: `text/x-asm` | bytes: `1805` | lines: `55` | sha1: `7ee15136869b9d3f6e10f806ac884ec2fa4c7b4d`
- `app/layout.tsx` | mime: `text/html` | bytes: `432` | lines: `18` | sha1: `003c88bd4c39fb68db9be7a798fc4a80080528d8`
- `app/live-map/page.tsx` | mime: `text/x-java` | bytes: `4277` | lines: `152` | sha1: `ca60de2f22e0c47578f893e8750a5f1360455f89`
- `app/not-found.tsx` | mime: `text/x-java` | bytes: `3360` | lines: `72` | sha1: `b6ea39e1d3b5b33842cf32db588939c47512e433`
- `app/page.tsx` | mime: `text/x-java` | bytes: `2368` | lines: `58` | sha1: `faa6ce3a9559d8f63ac7a6ec558fd9c505e7fa5a`
- `app/trackallvehicle/page.tsx` | mime: `text/x-java` | bytes: `3687` | lines: `122` | sha1: `9972158e22110322ae899a3fd9f879a957a9bce8`
- `assets/activesubscription.png` | mime: `image/png` | bytes: `549` | lines: `-` | sha1: `4fb1104199bbfd228dd6bb053bcb123d08d8dedf`
- `assets/car.png` | mime: `text/plain` | bytes: `166` | lines: `2` | sha1: `e2d45fc6052bdaffad7758b27bd6d0792f5bc5ed`
- `assets/car.png.d.ts` | mime: `text/x-java` | bytes: `63` | lines: `3` | sha1: `e714c6072b5804342ba5f3bb4b5093364fff32ea`
- `assets/customers.png` | mime: `image/png` | bytes: `737` | lines: `-` | sha1: `7c7511c703160afbef647ded02e6035bb6ef373a`
- `assets/dealers.png` | mime: `image/png` | bytes: `474` | lines: `-` | sha1: `4ae751a6feab10ca58f77884a7f3e4e1c95e36b8`
- `assets/devices.png` | mime: `image/png` | bytes: `625` | lines: `-` | sha1: `17173e5c04ab2d31651d39ec5c9f536ac67c6534`
- `assets/leftbanner.png` | mime: `image/png` | bytes: `109263` | lines: `-` | sha1: `765ae672e57f74a8dab7b913d36cab38ab9fb134`
- `assets/loginleftbanner.png` | mime: `image/png` | bytes: `328267` | lines: `-` | sha1: `baef883534f0f8456ab22f073e86d1ae2548bd2b`
- `biome.json` | mime: `application/json` | bytes: `693` | lines: `37` | sha1: `5aa867858816f916a5e6741d263d6f424fb020b2`
- `components/CommonCard.tsx` | mime: `text/x-java` | bytes: `2437` | lines: `98` | sha1: `03f010dd593a3a413eb0be207c0867921653cb0a`
- `components/CommonTable.tsx` | mime: `text/x-java` | bytes: `19101` | lines: `558` | sha1: `f26f446b4fbc609df5bb979540d321b809a51a73`
- `components/ConfirmationDialog.tsx` | mime: `text/x-java` | bytes: `4746` | lines: `161` | sha1: `5a024ec046749ebe72448db36b0e3e365abc0184`
- `components/DualHeaderLayout.tsx` | mime: `text/x-java` | bytes: `39911` | lines: `1125` | sha1: `d8461c02c632ecc0efb90511add72299c2a56d77`
- `components/ForgetPassword.tsx` | mime: `text/x-java` | bytes: `3711` | lines: `111` | sha1: `200b1d4c12735936083d4d47bb073bd77746c720`
- `components/HierarchicalTable.tsx` | mime: `text/x-java` | bytes: `8064` | lines: `247` | sha1: `35bdac776b8c55dfa498d8ea778bd0efa44e1f24`
- `components/Login.tsx` | mime: `text/x-java` | bytes: `10975` | lines: `321` | sha1: `64b422becc3b2bfbdf401bf63cce6c356e28cc02`
- `components/MultiSelect.tsx` | mime: `text/x-java` | bytes: `4053` | lines: `142` | sha1: `152c99ed59aa0aa012bd547998a323e67d68ae98`
- `components/PageHeader.tsx` | mime: `text/x-java` | bytes: `5638` | lines: `164` | sha1: `bb19a500eaabd6ac39c123f0323cb65ff57950eb`
- `components/Register.tsx` | mime: `text/x-java` | bytes: `15776` | lines: `421` | sha1: `134ad05c9e75b1c3c62c082d058d4bc3b512f530`
- `components/TableHeader.tsx` | mime: `text/x-java` | bytes: `3731` | lines: `121` | sha1: `d3b1c114aefb2c25fa4b7c33a2d1b6ae56aa9c17`
- `components/ThemeCustomizer.jsx` | mime: `text/x-java` | bytes: `9572` | lines: `271` | sha1: `c6211fc9d5ab8c935419352b3c50baa374fe7523`
- `components/maps/FleetMap.tsx` | mime: `text/x-java` | bytes: `4062` | lines: `141` | sha1: `bbf33815b683554fdf9ce8364c76c191f1fdb86a`
- `components/maps/MapLoader.tsx` | mime: `text/x-java` | bytes: `518` | lines: `13` | sha1: `00e8dbc4dfbcde4214985162973d9f93f99646cd`
- `components/maps/PlaybackControls.tsx` | mime: `text/x-java` | bytes: `897` | lines: `38` | sha1: `d148187debd61e5df2f49297618e78b88bc592ab`
- `components/maps/VehicleMap.tsx` | mime: `text/x-java` | bytes: `7582` | lines: `192` | sha1: `badc8735ca2d675b60b6ed8066d6db29d7d2d43e`
- `components/maps/hooks/useRoutePlayback.ts` | mime: `text/x-java` | bytes: `2193` | lines: `76` | sha1: `d5a9e45a374e30d0abd64abda1150977a8f5a59a`
- `components/maps/hooks/useVehiclesLive.ts` | mime: `text/x-java` | bytes: `2572` | lines: `94` | sha1: `7cd166ef95a62d2d460f0c7183cebdaa5287672a`
- `context/AuthContext.jsx` | mime: `text/x-java` | bytes: `490` | lines: `19` | sha1: `e090ee317fcbe1665a3c1ff5b6e07eff6cb52ddb`
- `context/ColorContext.jsx` | mime: `text/x-java` | bytes: `1673` | lines: `74` | sha1: `20ec63d3a6d969bac0f270ff0344da937aa41d77`
- `context/LayoutContext.jsx` | mime: `text/x-java` | bytes: `590` | lines: `23` | sha1: `5b536b7d1c08d69122d684173a269ce9d5f2476f`
- `context/ThemeContext.jsx` | mime: `text/x-java` | bytes: `1569` | lines: `56` | sha1: `fba097d008e5d2ee116244a9b99ee71cb0af6d54`
- `eslint.config.js` | mime: `text/plain` | bytes: `758` | lines: `29` | sha1: `baccf4a538dcc70a7aad89d2d10261c2ec7176cb`
- `hooks/useGoogleMapsSdk.js` | mime: `text/x-java` | bytes: `504` | lines: `24` | sha1: `c27c113faf8691b00351387780cc3f987d56d345`
- `index.html` | mime: `text/html` | bytes: `356` | lines: `13` | sha1: `3c9caf3e08388eaa62197c0708284ba51033a1ca`
- `interfaces/account.interface.ts` | mime: `text/plain` | bytes: `1365` | lines: `78` | sha1: `1fff1b9ca98ac04bd6067f22e4b029daabbd5574`
- `interfaces/card.interface.ts` | mime: `text/plain` | bytes: `295` | lines: `14` | sha1: `f36e5f181a13528288eaef5f68a93903f7b539ac`
- `interfaces/category.interface.ts` | mime: `text/plain` | bytes: `468` | lines: `22` | sha1: `df212a64fa766397c752f37ce33ca03e0716d875`
- `interfaces/configuartion.interface.ts` | mime: `text/plain` | bytes: `1194` | lines: `51` | sha1: `b559bbf2923871a3eeefe1256715ba80827c5930`
- `interfaces/dashboard.interface.ts` | mime: `text/x-java` | bytes: `696` | lines: `33` | sha1: `2e2bdaac6da6a2314e622c923b968246cfc73ca9`
- `interfaces/header.interface.ts` | mime: `text/plain` | bytes: `512` | lines: `21` | sha1: `46048f857b81016f94d61ec482fbb74c1f6dc614`
- `interfaces/navbar.interface.ts` | mime: `text/x-java` | bytes: `1205` | lines: `64` | sha1: `145088f2e2e9e72c90ea69998e3e3e66e96cbaac`
- `interfaces/permission.interface.ts` | mime: `text/plain` | bytes: `631` | lines: `33` | sha1: `5775448fc003723ef4638edc226cf71e9156505a`
- `interfaces/plan.interface.ts` | mime: `text/plain` | bytes: `580` | lines: `33` | sha1: `e097b4ea6ad70b9d375979edcae5353637f8f772`
- `interfaces/register.interface.ts` | mime: `text/plain` | bytes: `282` | lines: `13` | sha1: `c05f674bc8089780b640c32c0a82fb222976bd64`
- `interfaces/roles.interface.ts` | mime: `inode/x-empty` | bytes: `0` | lines: `-` | sha1: `da39a3ee5e6b4b0d3255bfef95601890afd80709`
- `interfaces/table.interface.ts` | mime: `text/plain` | bytes: `1215` | lines: `52` | sha1: `7064591edd37b0b42f09d2e0a966ee0a8bb228e9`
- `interfaces/user.interface.ts` | mime: `text/plain` | bytes: `625` | lines: `26` | sha1: `50d8ced12b7c7396ecc40eaec591d3342426f85c`
- `interfaces/whitelabel.interface.ts` | mime: `text/plain` | bytes: `1166` | lines: `55` | sha1: `d1dbd06111b05975173317c4c0e0391fe792eed8`
- `lib/mapTypes.ts` | mime: `text/plain` | bytes: `479` | lines: `20` | sha1: `2fdc6d045e4887989cddcb515e47e41b70bef763`
- `next-env.d.ts` | mime: `text/x-java` | bytes: `251` | lines: `6` | sha1: `d0edc62da2f216ad272c8e8ed9d04f5267bd85a2`
- `next.config.ts` | mime: `text/x-java` | bytes: `133` | lines: `7` | sha1: `89327ac52fc9a00fb8b885afd6654f18e58b3156`
- `package-lock.json` | mime: `application/json` | bytes: `125777` | lines: `3519` | sha1: `ed35f75e9e547075341d509c0ab6e54eb44a37cd`
- `package.json` | mime: `application/json` | bytes: `966` | lines: `39` | sha1: `cbc91648b13d6b1808f56a82b2d1e6ffadde5aa1`
- `postcss.config.mjs` | mime: `text/plain` | bytes: `94` | lines: `7` | sha1: `8f8be689e9af58f80351df6e6b551146822f42a4`
- `providers/ToastProvider.tsx` | mime: `text/x-java` | bytes: `382` | lines: `19` | sha1: `2457af57c0382d863a3ac897b8cd5c3df75bc1c2`
- `proxy.ts` | mime: `text/x-java` | bytes: `753` | lines: `29` | sha1: `720c2fd9cc550df0aadd5cc5ca1aa3f09499d087`
- `public/file.svg` | mime: `image/svg+xml` | bytes: `391` | lines: `-` | sha1: `fb380eeffe87d50b597383664c02982964d0d28c`
- `public/globe.svg` | mime: `image/svg+xml` | bytes: `1035` | lines: `-` | sha1: `2eba23b01a46733bb8423e6d38ebf5f7e95abec5`
- `public/next.svg` | mime: `image/svg+xml` | bytes: `1375` | lines: `-` | sha1: `3f3e95622612b989c5bd6a03299a308c6f3c7e6b`
- `public/vercel.svg` | mime: `image/svg+xml` | bytes: `128` | lines: `-` | sha1: `cebb8852d58c8886be3e9051a26957f42bb82f1a`
- `public/vite.svg` | mime: `image/svg+xml` | bytes: `1497` | lines: `-` | sha1: `f7f39d7237b791a945d52a5cd7a8fb365f313366`
- `public/window.svg` | mime: `image/svg+xml` | bytes: `385` | lines: `-` | sha1: `54c48e0daa6caa317fe1b4c419007fd93e948db9`
- `services/accountService.js` | mime: `text/x-java` | bytes: `1925` | lines: `73` | sha1: `36f2a13ea09914eaa2490ac025ad771dbcfb578b`
- `services/apiService.js` | mime: `text/x-java` | bytes: `1111` | lines: `46` | sha1: `9f6de29774eb118930a026950f411175acb0e00f`
- `services/authService.js` | mime: `text/x-java` | bytes: `489` | lines: `16` | sha1: `2d15f17bab02c7cf0734d822abf82f7372574a63`
- `services/categoryService.js` | mime: `text/x-java` | bytes: `2196` | lines: `87` | sha1: `69065c26d97f59377a308f667355f86ae61f41dc`
- `services/commonServie.js` | mime: `text/x-java` | bytes: `3322` | lines: `116` | sha1: `48759244a36db3484ce64fdbbafac95f5125459d`
- `services/configurationService.js` | mime: `text/x-java` | bytes: `2398` | lines: `87` | sha1: `f23b86275e21941a115fdb8f2f7e2fb3bac14236`
- `services/formService.js` | mime: `text/x-java` | bytes: `187` | lines: `6` | sha1: `62a7014a15f07b588f0bc712fb3d8bb55dbb3163`
- `services/liveTrackingService.js` | mime: `text/x-java` | bytes: `4890` | lines: `161` | sha1: `0c364b98bc372288831325be55ccdae98d80049d`
- `services/planService.js` | mime: `text/x-java` | bytes: `1246` | lines: `49` | sha1: `f7ae2a9e1ddd1e1d0468998c4fa301ff6bab7dc2`
- `services/rolesService.js` | mime: `text/x-java` | bytes: `3044` | lines: `115` | sha1: `4c58dc7511b389b00467325d49355d8a779e5967`
- `services/userService.js` | mime: `text/x-java` | bytes: `3194` | lines: `112` | sha1: `f04758496b3b2049f4862e984ebbe0cb261a8f80`
- `services/whitelabelService.js` | mime: `text/x-java` | bytes: `2015` | lines: `73` | sha1: `1cfb8f08ac9cfe2ffe231e75e55a0da9d944327c`
- `tailwind.config.js` | mime: `text/plain` | bytes: `919` | lines: `31` | sha1: `8bc4b0d864d0ec66eab237daa5f6c4d1f4c31ea1`
- `tsconfig.json` | mime: `application/json` | bytes: `700` | lines: `34` | sha1: `9dfb6de64b99072b13f4cc713da2eebe99df3e15`
- `utils/carMarkerIcon.ts` | mime: `text/plain` | bytes: `2363` | lines: `48` | sha1: `fd2fd9c4743dfe4356ab08fd8822d20e12fd50e5`
- `utils/themeUtils.ts` | mime: `text/plain` | bytes: `1454` | lines: `52` | sha1: `cab9afc21a50997bfe2579ccc95bd0d588eb3083`
- `utils/useWhiteLabelColors.ts` | mime: `text/x-java` | bytes: `3862` | lines: `138` | sha1: `35dad695110051f1523b08b845499f0c3c0c2f8b`
- `utils/utils.ts` | mime: `text/plain` | bytes: `177` | lines: `9` | sha1: `279a396c658dbf227667f97d48b664577ac347d0`

## Text File Snapshots (first 40 lines each)

### Dockerfile

```
# 1) Dependencies
FROM node:24-alpine AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci

# 2) Build
FROM node:24-alpine AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
ARG NEXT_PUBLIC_API_BASE_URL
ARG NEXT_PUBLIC_APP_ENV
ARG NEXT_PUBLIC_GOOGLE_MAPS_KEY
ARG NEXT_PUBLIC_VTS_API_BASE_URL
ARG NEXT_PUBLIC_JAVA_API_BASE_URL

ENV NEXT_PUBLIC_API_BASE_URL=$NEXT_PUBLIC_API_BASE_URL
ENV NEXT_PUBLIC_APP_ENV=$NEXT_PUBLIC_APP_ENV
ENV NEXT_PUBLIC_GOOGLE_MAPS_KEY=$NEXT_PUBLIC_GOOGLE_MAPS_KEY
ENV NEXT_PUBLIC_VTS_API_BASE_URL=$NEXT_PUBLIC_VTS_API_BASE_URL
ENV NEXT_PUBLIC_JAVA_API_BASE_URL=$NEXT_PUBLIC_JAVA_API_BASE_URL
RUN npm run build

# 3) Run 
FROM node:24-alpine AS runner
WORKDIR /app

ENV NODE_ENV=production

COPY --from=builder /app/package*.json ./
COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app/.next ./.next
COPY --from=builder /app/public ./public

EXPOSE 3000
CMD ["npm", "start"]```

### README.md

```
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
```

### app/(protected)/accounts/[id]/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import { Card } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { useColor } from "@/context/ColorContext";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import { useRouter, useParams } from "next/navigation";
import { getCategoreis, saveAccount, getAccountById, updateAccount } from "@/services/accountService";
import { getAllAccounts, getCountries, getStatesByCountry, getCitiesByState } from "@/services/commonServie";
import { toast } from "react-toastify";
import { Category } from "@/interfaces/account.interface";

interface FormData {
  accountName: string;
  accountCode: string;
  userId: number;
  taxTypeId: number;
  superior: string;
  referrer: string;
  contactName: string;
  phone: string;
  positionDesignation: string;
  countryId: string;
  stateId: string;
  cityId: string;
  zipcode: string;
  address: string;
  contactNumber: string;
  supportTimings: string;
  username: string;
  password: string;
  email: string;
  categoryId: string;
  status: string;
  shareEmail: boolean;
  shareWhatsApp: boolean;
  shareCopyToClipboard: boolean;
  primaryDomain: string;
  businessEmail: string;
```

### app/(protected)/accounts/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import PageHeader from "@/components/PageHeader";
import { MetricCard } from "@/components/CommonCard";
import ConfirmationDialog from "@/components/ConfirmationDialog";
import { useTheme } from "@/context/ThemeContext";
import { deleteAccount, getAccounts } from "@/services/accountService";
import { AccountData, FormRights } from "@/interfaces/account.interface";
import { Building2, CheckCircle, Clock, XCircle, MapPin } from "lucide-react";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";
import { getUserRoleData } from "@/services/commonServie";

const Accounts: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();
  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [searchQuery, setSearchQuery] = useState<string>("");
  const [debouncedQuery, setDebouncedQuery] = useState(searchQuery);
  const [totalRecords, setTotalRecords] = useState(0);
  const [accountsRight, setAccountRights] = useState<FormRights | null>(null);

  // Confirmation dialog state
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [accountToDelete, setAccountToDelete] = useState<AccountData | null>(
    null,
  );

  const [cardCounts, setCardCounts] = useState({
    total: 0,
    active: 0,
    pending: 0,
    inactive: 0,
  });

  const columns = [
```

### app/(protected)/addAccount/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import { Card } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { useColor } from "@/context/ColorContext";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import { useRouter } from "next/navigation";
import { getCategoreis, saveAccount } from "@/services/accountService";
import { getAllAccounts, getCountries, getStatesByCountry, getCitiesByState } from "@/services/commonServie";
import { toast } from "react-toastify";
import { Category } from "@/interfaces/account.interface";
import { generateKey } from "crypto";

interface FormData {
  accountName: string;
  superior: string;
  referrer: string;
  contactName: string;
  phone: string;
  positionDesignation: string;
  countryId: string;
  stateId: string;
  cityId: string;
  zipcode: string;
  address: string;
  contactNumber: string;
  supportTimings: string;
  username: string;
  password: string;
  email: string;
  categoryId: string;
  status: string;
  shareEmail: boolean;
  shareWhatsApp: boolean;
  shareCopyToClipboard: boolean;
  primaryDomain: string;
  businessEmail: string;
  businessAddress: string;
  businessTimeZone: string;
```

### app/(protected)/addCategory/page.tsx

```
"use client";

import React, { useState } from "react";
import { Layers } from "lucide-react";
import { useColor } from "@/context/ColorContext";
import { useTheme } from "@/context/ThemeContext";
import { useRouter } from "next/navigation";
import ThemeCustomizer from "@/components/ThemeCustomizer";

const AddCategory: React.FC = () => {
  const { selectedColor } = useColor();
  const { isDark } = useTheme();
  const router = useRouter();
  const [isActive, setIsActive] = useState(true);
  const [labelName, setLabelName] = useState("");
  const [description, setDescription] = useState("");

  const handleSubmit = () => {
    console.log({
      labelName,
      description,
      isActive,
    });
    // Add your submit logic here
  };

  const handleCancel = () => {
    router.back();
  };

  return (
    <div className={`${isDark ? "dark" : ""} mt-20`}>
      <div className="min-h-screen bg-background flex justify-center p-2">
        <div className="w-full max-w-4xl">
          {/* Header */}
          <div className="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mt-20 mb-6 px-4 sm:px-0">
            <h1 className="text-3xl sm:text-4xl font-bold text-foreground">
              New Classification
            </h1>

```

### app/(protected)/addConfiguration/page.tsx

```
"use client";

import React, { useState } from "react";
import { Map, Globe, Languages, Plus } from "lucide-react";
import { useTheme } from "@/context/ThemeContext";
import { useColor } from "@/context/ColorContext";
import { useRouter } from "next/navigation";
import ThemeCustomizer from "@/components/ThemeCustomizer";

const Card = ({
  children,
  isDark,
}: {
  children: React.ReactNode;
  isDark: boolean;
}) => (
  <div
    className={`${isDark ? "bg-card" : "bg-white"} rounded-xl shadow-lg p-6 border ${isDark ? "border-gray-800" : "border-gray-200"}`}
  >
    {children}
  </div>
);

const NewConfiguration: React.FC = () => {
  const { isDark } = useTheme();
  const { selectedColor } = useColor();
  const router = useRouter();

  const [formData, setFormData] = useState({
    account: "",
    mapProvider: "Google Maps (Default)",
    licenseKey: "",
    addressKey: "",
    dateFormat: "DD/MM/YYYY (Default)",
    timeFormat: "12 Hour (AM/PM) (Default)",
    distanceUnit: "Kilometers (Default)",
    speedUnit: "Km/h (Default)",
    fuelUnit: "Litre (Default)",
    temperature: "Celsius (Default)",
    addressDisplay: "Show Address",
```

### app/(protected)/categories/[id]/page.tsx

```
"use client";

import React, { useState, useEffect } from "react";
import { Layers } from "lucide-react";
import { useColor } from "@/context/ColorContext";
import { useTheme } from "@/context/ThemeContext";
import { useRouter, useParams } from "next/navigation";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import {
  saveCategory,
  updateCategory,
  getCategoryById,
} from "@/services/categoryService";
import { CategoryFormData } from "@/interfaces/category.interface";
import { toast } from "react-toastify";

const AddEditCategory: React.FC = () => {
  const { selectedColor } = useColor();
  const { isDark } = useTheme();
  const router = useRouter();
  const params = useParams();

  // Get ID from route params
  const categoryId = params?.id ? Number(params.id) : 0;
  const isEditMode = categoryId > 0;

  const [isActive, setIsActive] = useState(true);
  const [labelName, setLabelName] = useState("");
  const [description, setDescription] = useState("");
  const [loading, setLoading] = useState(false);
  const [fetchingData, setFetchingData] = useState(false);

  // Fetch category data if in edit mode
  useEffect(() => {
    if (isEditMode) {
      fetchCategoryData();
    }
  }, [categoryId]);

  const fetchCategoryData = async () => {
```

### app/(protected)/categories/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import PageHeader from "@/components/PageHeader";
import ConfirmationDialog from "@/components/ConfirmationDialog";
import { useTheme } from "@/context/ThemeContext";
import { getCategories, deleteCategory } from "@/services/categoryService";
import { Category } from "@/interfaces/category.interface";
import { useRouter } from "next/navigation";
import { FormRights } from "@/interfaces/account.interface";
import { toast } from "react-toastify";

const Categories: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();
  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [categories, setCategories] = useState<Category[]>([]);
  const [loading, setLoading] = useState(true);
  const [totalRecords, setTotalRecords] = useState(0);
  const [categoryRights, setCategoryRights] = useState<FormRights | null>(null);

  // Confirmation dialog state
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [categoryToDelete, setCategoryToDelete] = useState<Category | null>(
    null,
  );

  const columns = [
    {
      key: "categoryId",
      label: "ID",
      visible: true,
    },
    {
      key: "labelName",
      label: "LABEL",
      visible: true,
```

### app/(protected)/configuration/[id]/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import { Map, Globe, Languages, Plus, X } from "lucide-react";
import { useTheme } from "@/context/ThemeContext";
import { useColor } from "@/context/ColorContext";
import { useRouter, useParams } from "next/navigation";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import {
  getConfigurationById,
  saveConfiguration,
  updateConfiguration,
} from "@/services/configurationService";
import { toast } from "react-toastify";
import { getAllAccounts } from "@/services/commonServie";

const Card = ({
  children,
  isDark,
}: {
  children: React.ReactNode;
  isDark: boolean;
}) => (
  <div
    className={`${isDark ? "bg-card" : "bg-white"} rounded-xl shadow-lg p-6 border ${isDark ? "border-gray-800" : "border-gray-200"}`}
  >
    {children}
  </div>
);

const NewConfiguration: React.FC = () => {
  const { isDark } = useTheme();
  const { selectedColor } = useColor();
  const router = useRouter();
  const params = useParams();
  const id = params?.id as string;
  const isEditMode = id && id !== "0";
  const [accounts, setAccounts] = useState([]);
  const [loading, setLoading] = useState(false);
  const [formData, setFormData] = useState({
```

### app/(protected)/configuration/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import PageHeader from "@/components/PageHeader";
import ConfirmationDialog from "@/components/ConfirmationDialog";
import { useTheme } from "@/context/ThemeContext";
import {
  getConfigurations,
  deleteConfiguration,
} from "@/services/configurationService";
import { Configuration } from "@/interfaces/configuartion.interface";
import { useRouter } from "next/navigation";
import { toast } from "react-toastify";

const ConfigurationPage: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();

  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [configurations, setConfigurations] = useState<Configuration[]>([]);
  const [loading, setLoading] = useState(true);
  const [totalRecords, setTotalRecords] = useState(0);

  // Confirmation dialog states
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [configToDelete, setConfigToDelete] = useState<Configuration | null>(
    null,
  );

  const columns = [
    { key: "accountConfigurationId", label: "ID", visible: true },
    { key: "accountName", label: "ACCOUNT", visible: true },
    { key: "mapProvider", label: "MAP PROVIDER", visible: true },
    { key: "dateFormat", label: "DATE FORMAT", visible: true },
    { key: "defaultLanguage", label: "LANGUAGE", visible: true },
    {
      key: "updatedOn",
      label: "LAST UPDATED",
```

### app/(protected)/dashboard/page.tsx

```
"use client";

import React from "react";
import Image, { StaticImageData } from "next/image";
import { AlertTriangle, AlertCircle, Info } from "lucide-react";
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
  PieChart,
  Pie,
  Cell,
} from "recharts";

import usersImg from "@/assets/customers.png";
import subscriptionImg from "@/assets/activesubscription.png";
import dealersImg from "@/assets/dealers.png";
import deviceImg from "@/assets/devices.png";

import { useTheme } from "@/context/ThemeContext";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import {
  CardProps,
  AlertItemProps,
  MetricCardProps,
  ServerStatusItemProps,
} from "@/interfaces/dashboard.interface";
import { Card, MetricCard } from "@/components/CommonCard";

const AlertItem: React.FC<AlertItemProps> = ({
  icon: Icon,
  title,
  time,
  severity,
  iconBg,
  iconColor,
```

### app/(protected)/fleet/page.jsx

```
"use client";

import { Fragment, useEffect, useMemo, useRef, useState } from "react";
import { GoogleMap, MarkerF, PolylineF } from "@react-google-maps/api";
import {
  Activity,
  CarFront,
  CircleDotDashed,
  CircleX,
  Clock3,
  Filter,
  Gauge,
  Layers3,
  LocateFixed,
  Navigation,
  Search,
  Settings2,
  User,
  WifiOff,
  Wrench,
  X,
  Zap,
} from "lucide-react";
import { useGoogleMapsSdk } from "@/hooks/useGoogleMapsSdk";
import {
  DEFAULT_FLEET_VEHICLES,
  getLiveTrackingBatch,
  getLiveTrackingByKey,
} from "@/services/liveTrackingService";
import { useRouter } from "next/navigation";
import { getCarMarkerSvg } from "@/utils/carMarkerIcon";

const POLL_MS = 15000;
const VEHICLE_LIST = DEFAULT_FLEET_VEHICLES.slice(0, 3);

const STATUS_META = {
  ALL: { color: "#4f46e5", icon: CarFront },
  MOVING: { color: "#0ea5a4", icon: Navigation },
  IDLING: { color: "#6366f1", icon: Activity },
  PARKED: { color: "#10b981", icon: LocateFixed },
```

### app/(protected)/hierarchy/page.tsx

```
"use client";

import React from "react";
import { useTheme } from "@/context/ThemeContext";
import HierarchicalTable from "@/components/HierarchicalTable";
import PageHeader from "@/components/PageHeader";
import ThemeCustomizer from "@/components/ThemeCustomizer";

const Hierarchy: React.FC = () => {
  const { isDark } = useTheme();

  const hierarchyData = [
    {
      id: "1",
      name: "Alpha Logistics",
      type: "DISTRIBUTOR",
      code: "ACC-001",
      status: "Active",
      managed: "45 Assets",
      avatar: "AL",
      avatarColor: "#8b5cf6",
      children: [
        {
          id: "2",
          name: "Beta Fleet Services",
          type: "ENTERPRISE",
          code: "ACC-002",
          status: "Active",
          managed: "20 Assets",
          avatar: "BE",
          avatarColor: "#e5e7eb",
          children: [
            {
              id: "3",
              name: "Delta Quick Cabs",
              type: "DEALER",
              code: "ACC-004",
              status: "Under Review",
              managed: "15 Assets",
              avatar: "DE",
```

### app/(protected)/history-tracking/[id]/data.js

```
export const historyDataSample=[
    {
        "deviceNo": "028068139044",
        "imei": "028068139044",
        "latitude": 16.768722,
        "longitude": 80.283958,
        "speed": 11.6,
        "altitude": 0.0,
        "direction": 0,
        "rpm": null,
        "northSouthLatitude": null,
        "eastWestLongitude": null,
        "ignition": true,
        "ac": false,
        "powerCut": false,
        "lowVoltage": false,
        "doorLock": false,
        "doorOpen": false,
        "deviceLock": false,
        "fuelCut": false,
        "gpsFixed": false,
        "collision": false,
        "gpsDate": "2026-02-11 18:20:09",
        "sos": false,
        "overSpeed": false,
        "fatigue": false,
        "danger": false,
        "gnssFault": false,
        "gnssAntennaDisconnect": false,
        "gnssAntennaShort": false,
        "powerUnderVoltage": false,
        "powerDown": false,
        "powerDisplayFault": false,
        "ttsFault": false,
        "rollover": false,
        "receivedAt": null,
        "id": "d5383915-d15b-4889-8522-10cac8c0772e",
        "vehicleNo": "AP11AA1111",


```

### app/(protected)/history-tracking/[id]/page.tsx

```
"use client";

import { useEffect, useMemo, useRef, useState } from "react";
import { GoogleMap, MarkerF, PolylineF } from "@react-google-maps/api";
import {
    ArrowLeft,
    Calendar,
    Clock,
    Layers3,
    Pause,
    Play,
    Settings,
    Gauge,
    Navigation,
    Zap,
    AlertTriangle,
    MapPin,
    ChevronDown,
    ChevronUp,
    X,
} from "lucide-react";
import { useGoogleMapsSdk } from "@/hooks/useGoogleMapsSdk";
import { useParams, useRouter } from "next/navigation";
import { getCarMarkerSvg } from "@/utils/carMarkerIcon";

const API_BASE_URL = process.env.NEXT_PUBLIC_JAVA_API_BASE_URL;

interface HistoryDataPoint {
    deviceNo: string;
    imei: string;
    latitude: number;
    longitude: number;
    speed: number;
    altitude: number;
    direction: number;
    rpm: string | null;
    northSouthLatitude: string | null;
    eastWestLongitude: string | null;
    ignition: boolean;
    ac: boolean;
```

### app/(protected)/invoices/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import PageHeader from "@/components/PageHeader";
import { useTheme } from "@/context/ThemeContext";
import { Download, ExternalLink } from "lucide-react";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";

const Invoices: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();
  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [searchQuery, setSearchQuery] = useState<string>("");
  const [debouncedQuery, setDebouncedQuery] = useState(searchQuery);
  const [selectedAccount, setSelectedAccount] = useState<string>("all");

  const columns = [
    {
      key: "invoiceNumber",
      label: "INVOICE #",
      visible: true,
    },
    {
      key: "account",
      label: "ACCOUNT",
      visible: true,
    },
    {
      key: "amount",
      label: "AMOUNT",
      visible: true,
    },
    {
      key: "invoiceDate",
      label: "INVOICE DATE",
      visible: true,
```

### app/(protected)/layout.tsx

```
"use client";

import React from "react";
import DualHeaderLayout from "@/components/DualHeaderLayout";
import { useAuth } from "@/context/AuthContext";
import { useRouter } from "next/navigation";

export default function ProtectedLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const { isLoggedIn } = useAuth();
  const router = useRouter();

  React.useEffect(() => {
    if (!isLoggedIn) {
      router.push("/"); // redirect to login if user not authenticated
    }
  }, [isLoggedIn, router]);

  if (!isLoggedIn) return null;

  return <DualHeaderLayout>{children}</DualHeaderLayout>;
}
```

### app/(protected)/live-tracking/[id]/page.tsx

```
"use client";

import { useEffect, useRef, useState } from "react";
import { GoogleMap, MarkerF, PolylineF } from "@react-google-maps/api";
import {
  ArrowLeft,
  Navigation,
  Gauge,
  Phone,
  User,
  Layers3,
  Settings,
  Maximize2,
  Zap,
  Activity,
  AlertTriangle,
  Lock,
  Unlock,
  ChevronUp,
  ChevronDown,
} from "lucide-react";
import { useGoogleMapsSdk } from "@/hooks/useGoogleMapsSdk";
import { useRouter, useParams } from "next/navigation";
import { getCarMarkerSvg } from "@/utils/carMarkerIcon";

const POLL_INTERVAL = 5000; // 5 seconds
const API_BASE_URL = "http://fleetbharat.com:8080/api/redis/get";

interface Position {
  lat: number;
  lng: number;
  timestamp: string;
}

interface VehicleData {
  DeviceNo: string;
  Imei: string;
  Latitude: number;
  Longitude: number;
  Speed: number;
```

### app/(protected)/manage-plans/[id]/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import { useParams, useRouter } from "next/navigation";
import {
  CreditCard,
  DollarSign,
  Package,
  Zap,
  MapPin,
  Activity,
  TrendingUp,
  Database,
  BarChart3,
  Cpu,
  Smartphone,
  Headphones,
  Users,
  Mail,
  Phone,
  Calendar,
  AlertCircle,
  CheckCircle,
} from "lucide-react";
import { getById, updatePlan, createPlan } from "@/services/planService";
import { getCurrencies, getFormModulesDropdown } from "@/services/commonServie";
import {
  CardProps,
  Currency,
  FormModule,
  TenantCategory,
} from "@/interfaces/plan.interface";

// Mock Theme and Color Contexts
const useTheme = () => ({ isDark: false });
const useColor = () => ({ selectedColor: "#8B5CF6" });

const Card = ({ children, isDark }: CardProps) => (
  <div
    className={`${
```

### app/(protected)/manage-plans/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import PageHeader from "@/components/PageHeader";
import { MetricCard } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import {
  CreditCard,
  CheckCircle,
  Clock,
  XCircle,
  DollarSign,
} from "lucide-react";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";
import { PlanData } from "@/interfaces/plan.interface";
import { deletePlan, getPlans } from "@/services/planService";

const ManagePlans: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();
  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [searchQuery, setSearchQuery] = useState<string>("");
  const [debouncedQuery, setDebouncedQuery] = useState(searchQuery);

  const columns = [
    {
      key: "no",
      label: "NO",
      visible: true,
    },
    {
      key: "planName",
      label: "PLAN NAME",
      type: "link" as const,
      visible: true,
    },
```

### app/(protected)/provisionBranding/page.tsx

```
"use client";

import React, { useState, useEffect } from "react";
import { Globe, Palette } from "lucide-react";
import { useColor } from "@/context/ColorContext";
import { useTheme } from "@/context/ThemeContext";
import { useRouter } from "next/navigation";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import { HexColorPicker } from "react-colorful";
import {
  getWhiteLabelById,
  saveWhiteLabel,
  updateWhiteLabel,
} from "@/services/whitelabelService";
import {
  WhiteLabelFormData,
  WhiteLabelUpdateData,
} from "@/interfaces/whitelabel.interface";
import { getAllAccounts } from "@/services/commonServie";
import { toast } from "react-toastify";

const ProvisionBranding: React.FC = () => {
  const { selectedColor } = useColor();
  const { isDark } = useTheme();
  const router = useRouter();

  const [whiteLabelId, setWhiteLabelId] = useState<string | null>(null);

  const [formData, setFormData] = useState({
    accountId: 0,
    customEntryFqdn: "",
    logoUrl: "",
    primaryColorHex: "#4F46E5",
    secondaryColorHex: "#10B981",
    isActive: true,
  });

  const [showPrimaryPicker, setShowPrimaryPicker] = useState(false);
  const [showSecondaryPicker, setShowSecondaryPicker] = useState(false);
  const [primaryRgb, setPrimaryRgb] = useState({ r: 79, g: 70, b: 229 });
```

### app/(protected)/subscriptions/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import PageHeader from "@/components/PageHeader";
import { MetricCard } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { Activity, TrendingUp, Clock, Package } from "lucide-react";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";

const Subscriptions: React.FC = () => {
    const { isDark } = useTheme();
    const router = useRouter();
    const [pageNo, setPageNo] = useState(1);
    const [pageSize, setPageSize] = useState(10);
    const [searchQuery, setSearchQuery] = useState<string>("");
    const [debouncedQuery, setDebouncedQuery] = useState(searchQuery);

    const columns = [
        {
            key: "no",
            label: "NO",
            visible: true,
        },
        {
            key: "account",
            label: "ACCOUNT",
            type: "multi-line" as const,
            visible: true,
        },
        {
            key: "planDetails",
            label: "PLAN DETAILS",
            type: "multi-line" as const,
            visible: true,
        },
        {
            key: "period",
```

### app/(protected)/track-trace/layout.tsx

```
import React from "react";

export default function Layout({ children }: { children: React.ReactNode }) {
  // This layout will use the protected DualHeaderLayout
  return <>{children}</>;
}
```

### app/(protected)/track-trace/page.tsx

```
"use client";
import React, { Suspense, useState, useEffect, useMemo } from "react";
import FleetMap from "@/components/maps/FleetMap";
import type { Vehicle, RoutePoint } from "@/lib/mapTypes";
import { getLiveTrackingData } from "@/services/liveTrackingService";
import { useRouter, useSearchParams } from "next/navigation";
// ...existing code...
// ...existing code...
// ...existing code...

// Google Maps Button Overlay (must be top-level, before export default)
function GoogleMapsButton({ vehicleNo, fetchVehicles }: { vehicleNo: string, fetchVehicles: () => Promise<Vehicle[]> }) {
  const [latLng, setLatLng] = React.useState<{ lat: number, lng: number } | null>(null);
  React.useEffect(() => {
    fetchVehicles().then(vehicles => {
      if (vehicles && vehicles[0] && vehicles[0].lat && vehicles[0].lng) {
        setLatLng({ lat: vehicles[0].lat, lng: vehicles[0].lng });
      }
    });
  }, [vehicleNo, fetchVehicles]);
  if (!latLng) return null;
  const gmapsUrl = `https://www.google.com/maps/search/?api=1&query=${latLng.lat},${latLng.lng}`;
  return (
    <a
      href={gmapsUrl}
      target="_blank"
      rel="noopener noreferrer"
      title="Open in Google Maps"
      style={{
        position: 'absolute',
        top: 14,
        right: 14,
        zIndex: 10,
        background: '#fff',
        borderRadius: 8,
        boxShadow: '0 2px 8px #0002',
        padding: '7px 14px',
        display: 'flex',
        alignItems: 'center',
        gap: 6,
```

### app/(protected)/users/[id]/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import { Card } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { Building2, User, Shield, Upload, X, Lock } from "lucide-react";
import { UserFormData } from "@/interfaces/user.interface";
import { useColor } from "@/context/ColorContext";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import { useParams, useRouter } from "next/navigation";
import {
  createUser,
  updateUser,
  getUserById,
} from "@/services/userService";
import { toast } from "react-toastify";
import { getAllAccounts, getAllRoles } from "@/services/commonServie";
import { getRoleById } from "@/services/rolesService";

type TabType = "profile" | "access" | "security";

interface Account {
  id: number;
  value: string;
}

interface Role {
  id: number;
  value: string;
}

interface Permission {
  formId: number;
  formName: string;
  moduleName: string;
  canRead: boolean;
  canWrite: boolean;
  canDelete: boolean;
  canExport: boolean;
}
```

### app/(protected)/users/activity-logs/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import PageHeader from "@/components/PageHeader";
import { MetricCard } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { Activity, AlertTriangle } from "lucide-react";
import { toast } from "react-toastify";

interface ActivityLogData {
  no: number;
  event: string;
  user: string;
  target: string;
  details: string;
  time: string;
  status: {
    label: string;
    variant: "success" | "error" | "warning" | "info";
  };
}

const ActivityLogs: React.FC = () => {
  const { isDark } = useTheme();
  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);

  const columns = [
    {
      key: "no",
      label: "NO",
      visible: true,
    },
    {
      key: "event",
      label: "EVENT",
      visible: true,
    },
```

### app/(protected)/users/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import PageHeader from "@/components/PageHeader";
import { MetricCard } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import MultiSelect from "@/components/MultiSelect";
import ConfirmationDialog from "@/components/ConfirmationDialog";
import { getUsers, deleteUser } from "@/services/userService";
import { UserItem } from "@/interfaces/user.interface";
import { Users as UsersIcon, CheckCircle, Lock, Shield } from "lucide-react";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";

const Users: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();

  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [isFilterOpen, setIsFilterOpen] = useState(false);
  const [data, setData] = useState<UserItem[]>([]);
  const [totalRecords, setTotalRecords] = useState(0);
  const [summaryData, setSummaryData] = useState({
    totalUsers: 0,
    active: 0,
    suspendedOrLocked: 0,
    twoFactorEnabled: 0,
  });

  // Confirmation dialog states
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [userToDelete, setUserToDelete] = useState<UserItem | null>(null);

  const roleOptions = [
    { label: "Super Admin", value: "SUPER_ADMIN" },
    { label: "Account Manager", value: "ACCOUNT_MANAGER" },
    { label: "Viewer", value: "VIEWER" },
  ];
```

### app/(protected)/users/roles-permissions/[id]/page.tsx

```
"use client";

import React, { useState, useEffect } from "react";
import { Card } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { Shield, Users, Lock } from "lucide-react";
import { useColor } from "@/context/ColorContext";
import ThemeCustomizer from "@/components/ThemeCustomizer";
import { useParams, useRouter } from "next/navigation";
import { toast } from "react-toastify";
import { getAllAccounts } from "@/services/commonServie";
import { getAllForms } from "@/services/formService";
import { Permission, RoleFormData } from "@/interfaces/permission.interface";
import {
  createRole,
  getRoleById,
  updateRights,
  updateRole,
} from "@/services/rolesService";

const AddRole: React.FC = () => {
  const { isDark } = useTheme();
  const { selectedColor } = useColor();
  const router = useRouter();
  const params = useParams();
  const roleId = params?.id;

  const [isEditMode, setIsEditMode] = useState(false);
  const [loading, setLoading] = useState(false);
  const [formData, setFormData] = useState<RoleFormData>({
    account: "",
    roleName: "",
    description: "",
    permissions: [],
  });

  const [accounts, setAccounts] = useState([]);

  const handleInputChange = (
    e: React.ChangeEvent<
```

### app/(protected)/users/roles-permissions/page.tsx

```
// Roles.tsx
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import PageHeader from "@/components/PageHeader";
import { MetricCard } from "@/components/CommonCard";
import { useTheme } from "@/context/ThemeContext";
import { Shield, Lock, Users as UsersIcon } from "lucide-react";
import { toast } from "react-toastify";
import { deleteRole, exportRoles, getRoles } from "@/services/rolesService";
import { RoleAccount } from "@/interfaces/permission.interface";
import { useRouter } from "next/navigation";
import ConfirmationDialog from "@/components/ConfirmationDialog";

const Roles: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();

  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);

  const [summary, setSummary] = useState({
    totalRoles: 0,
    systemRoles: 0,
    customRoles: 0,
  });

  const [totalRecords, setTotalRecords] = useState(0);
  const [data, setData] = useState<RoleAccount[]>([]);

  // Confirmation dialog states
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [roleToDelete, setRoleToDelete] = useState<RoleAccount | null>(null);

  const columns = [
    { key: "no", label: "NO", visible: true },
    { key: "accountName", label: "Account", visible: true },
    { key: "roleName", label: "Role", type: "link" as const, visible: true },
    { key: "description", label: "Description", visible: true },
```

### app/(protected)/whiteLabel/page.tsx

```
"use client";

import React, { useEffect, useState } from "react";
import CommonTable from "@/components/CommonTable";
import PageHeader from "@/components/PageHeader";
import ConfirmationDialog from "@/components/ConfirmationDialog";
import { useTheme } from "@/context/ThemeContext";
import { useRouter } from "next/navigation";
import { getWhiteLabels, deleteWhiteLabel } from "@/services/whitelabelService";
import { WhiteLabel } from "@/interfaces/whitelabel.interface";
import { toast } from "react-toastify";

const WhiteLabelPage: React.FC = () => {
  const { isDark } = useTheme();
  const router = useRouter();

  const [pageNo, setPageNo] = useState(1);
  const [pageSize, setPageSize] = useState(10);
  const [data, setData] = useState<WhiteLabel[]>([]);
  const [totalRecords, setTotalRecords] = useState(0);
  const [loading, setLoading] = useState(true);

  // Confirmation dialog states
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [whiteLabelToDelete, setWhiteLabelToDelete] =
    useState<WhiteLabel | null>(null);

  const columns = [
    {
      key: "accountName",
      label: "ACCOUNT",
      visible: true,
    },
    {
      key: "customEntryFqdn",
      label: "DOMAIN",
      type: "link" as const,
      visible: true,
    },
    {
```

### app/RootClientWrapper.tsx

```
"use client";

import { useEffect } from "react";
import { ThemeProvider } from "@/context/ThemeContext";
import { LayoutProvider } from "@/context/LayoutContext";
import { ColorProvider } from "@/context/ColorContext";
import { AuthProvider } from "@/context/AuthContext";
import ToastProvider from "@/providers/ToastProvider";
import { applyWhiteLabelColors } from "@/utils/themeUtils";

export default function RootClientWrapper({ children }: { children: React.ReactNode }) {
  useEffect(() => {
    const savedTheme = localStorage.getItem("whiteLabelTheme");
    if (savedTheme) {
      try {
        applyWhiteLabelColors(JSON.parse(savedTheme));
      } catch (err) {
        console.error("Error applying saved theme:", err);
      }
    }
  }, []);

  return (
    <AuthProvider>
      <ThemeProvider>
        <LayoutProvider>
          <ColorProvider>
            {children}
            <ToastProvider />
          </ColorProvider>
        </LayoutProvider>
      </ThemeProvider>
    </AuthProvider>
  );
}
```

### app/globals.css

```
@import "tailwindcss";

* {
  font-family: 'Inter', sans-serif;
}

:root {
  --primary: 239 68% 55%;          /* Default blue */
  --primary-foreground: 0 0% 100%; /* White text on primary */
  --background: 0 0% 100%;         /* White bg */
  --foreground: 0 0% 10%;          /* Dark text */
  --card: 0 0% 100%;               /* Card white */
  --card-foreground: 0 0% 10%;
  --border: 0 0% 90%;
  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 45%;
}

/*  Dark Mode Variables */
.dark {
  --primary: 239 84% 67%;          /* Brighter primary in dark */
  --primary-foreground: 0 0% 98%;
  --background: 240 10% 8%;        /* Dark bg */
  --foreground: 0 0% 98%;          /* Light text */
  --card: 240 10% 12%;             /* Dark card */
  --card-foreground: 0 0% 98%;
  --border: 240 10% 20%;
  --muted: 240 10% 15%;
  --muted-foreground: 0 0% 65%;
}

/*  Apply dark mode globally to body and html */
html, body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  transition: background-color 0.3s, color 0.3s;
}

/* Ensure all cards and containers respect theme */
.dark * {
```

### app/layout.tsx

```
import "./globals.css";
import type { ReactNode } from "react";
import RootClientWrapper from "./RootClientWrapper";

export const metadata = {
  title: "Agentix",
  description: "Next.js version of your React app",
};

export default function RootLayout({ children }: { children: ReactNode }) {
  return (
    <html lang="en">
      <body>
        <RootClientWrapper>{children}</RootClientWrapper>
      </body>
    </html>
  );
}
```

### app/live-map/page.tsx

```
"use client";

import FleetMap from "@/components/maps/FleetMap";
import type { RoutePoint, Vehicle } from "@/lib/mapTypes";
import { getLiveTrackingData } from "@/services/liveTrackingService";


// ----------------------------------------------------------
// Helper: safely convert to number
// ----------------------------------------------------------
function toNum(value: any): number | undefined {
  if (value === null || value === undefined) return undefined;
  const n = Number(value);
  return Number.isFinite(n) ? n : undefined;
}

function toIgnitionStatus(value: any): "ignition-on" | "ignition-off" {
  if (value === true || value === 1) return "ignition-on";
  if (typeof value === "string") {
    const normalized = value.trim().toLowerCase();
    if (normalized === "1" || normalized === "true" || normalized === "on") {
      return "ignition-on";
    }
  }
  return "ignition-off";
}


// ----------------------------------------------------------
// NORMALIZER  Handles ALL field variations & nested formats
// ----------------------------------------------------------
function normalizeVehicle(item: any): Vehicle | null {

  // ---- Handle latitude field variations ----
  const lat =
    toNum(item.latitude) ??
    toNum(item.lat) ??
    toNum(item.Latitude) ??
    toNum(item.Lat) ??
    toNum(item.LAT);
```

### app/not-found.tsx

```
"use client";

import React from "react";
import Link from "next/link";
import { Home, ArrowLeft, Search } from "lucide-react";

const NotFound: React.FC = () => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4">
      <div className="max-w-2xl w-full text-center space-y-8">
        {/* 404 Number with Animation */}
        <div className="relative">
          <h1 className="text-9xl md:text-[12rem] font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 dark:from-purple-400 dark:to-blue-400 animate-pulse">
            404
          </h1>
          <div className="absolute inset-0 blur-3xl opacity-30">
            <div className="w-full h-full bg-gradient-to-r from-purple-600 to-blue-600 rounded-full"></div>
          </div>
        </div>

        {/* Error Message */}
        <div className="space-y-4">
          <h2 className="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white">
            Page Not Found
          </h2>
          <p className="text-lg text-gray-600 dark:text-gray-300 max-w-md mx-auto">
            Oops! The page you're looking for seems to have wandered off into
            the digital wilderness.
          </p>
        </div>

        {/* Illustration or Icon */}
        <div className="flex justify-center py-8">
          <div className="relative w-48 h-48">
            <div className="absolute inset-0 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full blur-2xl opacity-20 animate-pulse"></div>
            <div className="relative bg-white dark:bg-gray-800 rounded-full w-full h-full flex items-center justify-center shadow-xl border-4 border-purple-200 dark:border-purple-700">
              <Search className="w-24 h-24 text-purple-600 dark:text-purple-400" />
            </div>
          </div>
        </div>
```

### app/page.tsx

```
"use client";

import { LoginComponent } from "@/components/Login";
import { RegisterComponent } from "@/components/Register";
import { ForgetPassword } from "@/components/ForgetPassword";
import { useState } from "react";

type ViewType = "login" | "register" | "forgot-password";

const Auth = () => {
  const [currentView, setCurrentView] = useState<ViewType>("login");

  return (
    <div className="flex min-h-screen w-full items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4">
      {/* Card Wrapper */}
      <div className="flex flex-col lg:flex-row w-full max-w-6xl bg-white shadow-2xl rounded-2xl overflow-hidden">

        {/* Left Panel */}
        <div className="hidden lg:flex lg:w-1/2 relative min-h-[600px] bg-gradient-to-br from-purple-600 via-purple-500 to-pink-500">
          <div className="absolute inset-0 flex flex-col items-center justify-center p-12 text-white">
            <div className="space-y-6 text-center">
              <h1 className="text-4xl font-bold">Super Admin Portal</h1>
              <p className="text-lg text-purple-100">Manage, Monitor, and Maintain with Ultimate Control</p>
              <div className="grid grid-cols-3 gap-4 mt-12">
                {[...Array(9)].map((_, i) => (
                  <div
                    key={i}
                    className="w-16 h-16 rounded-lg bg-white/10 backdrop-blur-sm animate-pulse"
                    style={{ animationDelay: `${i * 0.1}s` }}
                  />
                ))}
              </div>
            </div>
          </div>
        </div>

        {/* Right Panel */}
        <div className="w-full lg:w-1/2 flex items-start justify-center p-6 lg:p-8">
          <div className="w-full max-w-md">
            {currentView === "login" && (
```

### app/trackallvehicle/page.tsx

```
"use client";

import FleetMap from "@/components/maps/FleetMap";
import React, { useRef } from "react";
import type { Vehicle } from "@/lib/mapTypes";
import { getLiveTrackingData } from "@/services/liveTrackingService";


// Helper: safely convert to number
function toNum(value: any): number | undefined {
  if (value === null || value === undefined) return undefined;
  const n = Number(value);
  return Number.isFinite(n) ? n : undefined;
}

// Normalizer for vehicle data (robust lat/lng extraction)
function normalizeVehicle(item: any): Vehicle | null {
  const lat =
    toNum(item.latitude) ??
    toNum(item.lat) ??
    toNum(item.Latitude) ??
    toNum(item.Lat) ??
    toNum(item.LAT);
  const lng =
    toNum(item.longitude) ??
    toNum(item.lng) ??
    toNum(item.lon) ??
    toNum(item.Longitude) ??
    toNum(item.Lng) ??
    toNum(item.LNG);
  if (
    lat === undefined ||
    lng === undefined ||
    (lat === 0 && lng === 0)
  ) {
    console.warn("[trackallvehicle] Skipping invalid vehicle with bad coordinates:", item);
    return null;
  }
  const id =
    item.vehicleNo ||
```

### assets/car.png

```
// You can replace this PNG with any car image you like for a more creative look.
// Place your car PNG in this file and reference it in your VehicleMap marker icon.
```

### assets/car.png.d.ts

```
import carPng from "@/assets/car.png";

export default carPng;
```

### biome.json

```
{
  "$schema": "https://biomejs.dev/schemas/2.2.0/schema.json",
  "vcs": {
    "enabled": true,
    "clientKind": "git",
    "useIgnoreFile": true
  },
  "files": {
    "ignoreUnknown": true,
    "includes": ["**", "!node_modules", "!.next", "!dist", "!build"]
  },
  "formatter": {
    "enabled": true,
    "indentStyle": "space",
    "indentWidth": 2
  },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true,
      "suspicious": {
        "noUnknownAtRules": "off"
      }
    },
    "domains": {
      "next": "recommended",
      "react": "recommended"
    }
  },
  "assist": {
    "actions": {
      "source": {
        "organizeImports": "on"
      }
    }
  }
}
```

### components/CommonCard.tsx

```
// components/CommonCard.tsx
import React from "react";
import Image, { StaticImageData } from "next/image";

interface CardProps {
  children: React.ReactNode;
  className?: string;
  isDark: boolean;
}

interface MetricCardProps {
  icon: React.ComponentType<{ className?: string }> | StaticImageData | string;
  label: string;
  value: number | string;
  iconBgColor: string;
  iconColor: string;
  isDark: boolean;
}

export const Card: React.FC<CardProps> = ({
  children,
  className = "",
  isDark,
}) => (
  <div
    className={`${
      isDark
        ? "bg-card border border-gray-800"
        : "bg-white border border-gray-200"
    } rounded-lg sm:rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 ${className}`}
  >
    {children}
  </div>
);

export const MetricCard: React.FC<MetricCardProps> = ({
  icon,
  label,
  value,
  iconBgColor,
```

### components/CommonTable.tsx

```
"use client";
import React, { useState } from "react";
import { Search, ChevronDown, Edit2, Trash2 } from "lucide-react";
import { useColor } from "@/context/ColorContext";
import { Column, CommonTableProps } from "@/interfaces/table.interface";
import { useTheme } from "@/context/ThemeContext";

const CommonTable: React.FC<CommonTableProps> = ({
  columns = [],
  data = [],
  onEdit,
  onDelete,
  showActions = true,
  searchPlaceholder = "Search...",
  rowsPerPageOptions = [10, 25, 50, 100],
  pageNo = 1,
  pageSize = 10,
  onPageChange = () => {},
  onPageSizeChange = () => {},
  variant = "default",
  searchQuery = "",
  setSearchQuery,
  totalRecords = 0,
  isServerSide = true,
}) => {
  const { selectedColor } = useColor();
  const { isDark } = useTheme();

  const [columnVisibility, setColumnVisibility] = useState<
    Record<string, boolean>
  >(() => {
    const initialVisibility: Record<string, boolean> = {};
    columns.forEach((col) => {
      initialVisibility[col.key] = col.visible !== false;
    });
    if (showActions) {
      initialVisibility.actions = true;
    }
    return initialVisibility;
  });
```

### components/ConfirmationDialog.tsx

```
import React from "react";
import { AlertTriangle, X } from "lucide-react";
import {
  useWhiteLabelColors,
  getContrastTextColor,
} from "@/utils/useWhiteLabelColors";

interface ConfirmationDialogProps {
  isOpen: boolean;
  onClose: () => void;
  onConfirm: () => void;
  title?: string;
  message?: string;
  confirmText?: string;
  cancelText?: string;
  type?: "danger" | "warning" | "info";
  isDark?: boolean;
}

const ConfirmationDialog: React.FC<ConfirmationDialogProps> = ({
  isOpen,
  onClose,
  onConfirm,
  title = "Confirm Action",
  message = "Are you sure you want to proceed?",
  confirmText = "Confirm",
  cancelText = "Cancel",
  type = "danger",
  isDark = false,
}) => {
  const { primary, secondary } = useWhiteLabelColors();

  if (!isOpen) return null;

  const getTypeStyles = () => {
    switch (type) {
      case "danger":
        return {
          iconBg: "bg-red-100 dark:bg-red-900/30",
          iconColor: "text-red-600 dark:text-red-400",
```

### components/DualHeaderLayout.tsx

```
"use client";

import React, { useState, useEffect } from "react";
import {
  Search,
  Bell,
  Globe,
  Menu,
  Home,
  LayoutDashboard,
  FileText,
  Users,
  Briefcase,
  Cog,
  ChevronDown,
  List,
  Layers,
  GitBranch,
  Settings,
  Tag,
  User,
  Shield,
  Activity,
  Package,
  X,
  LogOut,
  CreditCard,
  Receipt,
  SubscriptIcon,
} from "lucide-react";
import Link from "next/link";
import { useLayout } from "../context/LayoutContext";
import { useColor } from "../context/ColorContext";
import { useTheme } from "../context/ThemeContext";
import {
  SidebarSection,
  HeaderClasses,
  SidebarClasses,
} from "@/interfaces/navbar.interface";
import { getInitials } from "@/utils/utils";
```

### components/ForgetPassword.tsx

```
"use client";

import React, { useState } from "react";
import { Mail, ArrowLeft } from "lucide-react";
import { forgotPassword } from "@/services/authService";
import { toast } from "react-toastify";

interface ForgetPasswordProps {
  onBackToLogin: () => void;
}

export const ForgetPassword: React.FC<ForgetPasswordProps> = ({
  onBackToLogin,
}) => {
  const [email, setEmail] = useState("");
  const [loading, setLoading] = useState(false);

  const validateEmail = (email: string): boolean => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  };

  const handleSendResetLink = async () => {
    if (!email.trim()) {
      toast.error("Please enter your email or mobile");
      return;
    }

    if (!validateEmail(email)) {
      toast.error("Please enter a valid email address");
      return;
    }

    try {
      setLoading(true);

      const response = await forgotPassword(email);

      if (response?.success) {
        toast.success("Reset link sent successfully! Check your email.");
```

### components/HierarchicalTable.tsx

```
"use client";

import React, { useState } from "react";
import {
  ChevronDown,
  ChevronRight,
  Search,
  Edit2,
  Network,
} from "lucide-react";
import { useColor } from "@/context/ColorContext";
import {
  HierarchicalTableProps,
  HierarchyNode,
} from "@/interfaces/table.interface";

const HierarchicalTable: React.FC<HierarchicalTableProps> = ({
  title = "RELATIONAL MAPPING",
  subtitle = "Recursive visualization of distributor-dealer relationships.",
  data,
  onEdit,
  showSearch = true,
}) => {
  const { selectedColor } = useColor();
  const [expandedNodes, setExpandedNodes] = useState<Set<string>>(new Set());
  const [searchQuery, setSearchQuery] = useState("");

  const toggleNode = (nodeId: string) => {
    setExpandedNodes((prev) => {
      const newSet = new Set(prev);
      if (newSet.has(nodeId)) {
        newSet.delete(nodeId);
      } else {
        newSet.add(nodeId);
      }
      return newSet;
    });
  };

  const getStatusColor = (status: string): string => {
```

### components/Login.tsx

```
"use client";

import React, { useState, useEffect } from "react";
import { AtSign, Lock, Eye, EyeOff } from "lucide-react";
import { loginUser } from "@/services/authService";
import { useRouter } from "next/navigation";
import Cookies from "js-cookie";
import { useColor } from "@/context/ColorContext";
import { getUserRoleData } from "@/services/commonServie";
import { applyWhiteLabelColors } from "@/utils/themeUtils";
import { toast } from "react-toastify";

interface LoginComponentProps {
  onSwitchToRegister: () => void;
  onSwitchToForgotPassword: () => void;
}

interface FormErrors {
  email?: string;
  password?: string;
}

export const LoginComponent: React.FC<LoginComponentProps> = ({
  onSwitchToRegister,
  onSwitchToForgotPassword,
}) => {
  const {
    selectedColor,
    handleColorChange,
    colorBlock,
    setColorBlock,
    hexToHsl,
  } = useColor();
  const [showPassword, setShowPassword] = useState(false);
  const [rememberMe, setRememberMe] = useState(false);
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [loading, setLoading] = useState(false);
  const [errors, setErrors] = useState<FormErrors>({});
  const router = useRouter();
```

### components/MultiSelect.tsx

```
"use client";

import { useEffect, useRef, useState } from "react";
import { Search } from "lucide-react";

export interface OptionType {
  label: string;
  value: string;
}

interface MultiSelectProps {
  options: OptionType[];
  value: OptionType[];
  onChange: (value: OptionType[]) => void;
  placeholder?: string;
  searchPlaceholder?: string;
  isDisabled?: boolean;
}

const MultiSelect = ({
  options,
  value,
  onChange,
  placeholder = "Select options",
  searchPlaceholder = "Search...",
  isDisabled = false,
}: MultiSelectProps) => {
  const [open, setOpen] = useState(false);
  const [search, setSearch] = useState("");
  const containerRef = useRef<HTMLDivElement>(null);

  // close on outside click
  useEffect(() => {
    const handler = (e: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(e.target as Node)
      ) {
        setOpen(false);
      }
```

### components/PageHeader.tsx

```
"use client";

import React from "react";
import { useEffect, useState } from "react";
import { Home, Filter, Download } from "lucide-react";
import { useTheme } from "@/context/ThemeContext";
import { useColor } from "@/context/ColorContext";
import { useRouter } from "next/navigation";
import { PageHeaderProps } from "@/interfaces/header.interface";

const PageHeader: React.FC<PageHeaderProps> = ({
  title,
  subtitle,
  breadcrumbs = [],
  showButton = false,
  buttonText = "Add New",
  buttonIcon,
  onButtonClick,
  buttonRoute,
  showExportButton = false,
  ExportbuttonText = "Export",
  onExportClick,
  showFilterButton = false,
  FilterbuttonText = "Filters",
  onFilterClick,
  showWriteButton = true,
}) => {
  const { isDark } = useTheme();
  const { selectedColor } = useColor();
  const router = useRouter();

  const handleButtonClick = () => {
    if (onButtonClick) {
      onButtonClick();
    } else if (buttonRoute) {
      router.push(buttonRoute);
    }
  };

  const handleExportClick = () => {
```

### components/Register.tsx

```
"use client";

import React, { useState } from "react";
import { AtSign, Lock, Eye, EyeOff, User, Phone, Gift } from "lucide-react";
import { registerUser } from "@/services/authService";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";

interface RegisterComponentProps {
  onSwitchToLogin: () => void;
}

interface RegisterForm {
  firstName: string;
  lastName: string;
  email: string;
  mobileNo: string;
  countryCode: string;
  password: string;
  confirmPassword: string;
  refferalCode?: string;
}

interface FormErrors {
  firstName?: string;
  lastName?: string;
  email?: string;
  mobileNo?: string;
  password?: string;
  confirmPassword?: string;
}

export const RegisterComponent: React.FC<RegisterComponentProps> = ({
  onSwitchToLogin,
}) => {
  const [formData, setFormData] = useState<RegisterForm>({
    firstName: "",
    lastName: "",
    email: "",
    mobileNo: "",
```

### components/TableHeader.tsx

```
"use client";

import React from "react";
import { Home } from "lucide-react";
import { useTheme } from "@/context/ThemeContext";
import { useColor } from "@/context/ColorContext";
import { useRouter } from "next/navigation";

interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface PageHeaderProps {
  title: string;
  subtitle?: string;
  breadcrumbs?: BreadcrumbItem[];
  showButton?: boolean;
  buttonText?: string;
  buttonIcon?: React.ReactNode;
  onButtonClick?: () => void;
  buttonRoute?: string;
}

const TableHeader: React.FC<PageHeaderProps> = ({
  title,
  subtitle,
  breadcrumbs = [],
  showButton = false,
  buttonText = "Add New",
  buttonIcon,
  onButtonClick,
  buttonRoute,
}) => {
  const { isDark } = useTheme();
  const { selectedColor } = useColor();
  const router = useRouter();

  const handleButtonClick = () => {
    if (onButtonClick) {
```

### components/ThemeCustomizer.jsx

```
"use client";
import { useState, useEffect } from "react";
import { useTheme } from "../context/ThemeContext";
import { useLayout } from "../context/LayoutContext";
import { useColor } from "../context/ColorContext";

const presetColors = [
  "#6366f1", // indigo
  "#8b5cf6", // purple
  "#ec4899", // pink
  "#f43f5e", // rose
  "#f97316", // orange
  "#eab308", // yellow
  "#22c55e", // green
  "#06b6d4", // cyan
];

export default function ThemeCustomizer() {
  const { isDark, setIsDark, setPrimaryHsl } = useTheme();
  const [isOpen, setIsOpen] = useState(false);
  const { layout, setLayout } = useLayout();

  const {
    selectedColor,
    handleColorChange,
    colorBlock,
    setColorBlock,
    hexToHsl,
  } = useColor();

  //  detect screen width for responsive logic
  const [isMobile, setIsMobile] = useState(false);
  useEffect(() => {
    const handleResize = () => setIsMobile(window.innerWidth < 640);
    handleResize();
    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);

  const handlePresetColor = (hex) => {
```

### components/maps/FleetMap.tsx

```
"use client";

import React, { useMemo, useState } from "react";
import MapLoader from "./MapLoader";
import VehicleMap from "./VehicleMap";
import PlaybackControls from "./PlaybackControls";
import { useVehiclesLive } from "./hooks/useVehiclesLive";
import { useRoutePlayback } from "./hooks/useRoutePlayback";
import type { RoutePoint, Vehicle } from "@/lib/mapTypes";

type Props = {
  fetchVehicles: () => Promise<Vehicle[]>;
  fetchRoute?: (vehicleId: string) => Promise<RoutePoint[]>;
  pollMs?: number;
  height?: string;
  renderInfoCard?: (vehicle: Vehicle | undefined) => React.ReactNode;
};

export default function FleetMap({
  fetchVehicles,
  fetchRoute,
  pollMs = 3000,
  height = "80vh",
  renderInfoCard,
}: Props) {
  const { vehicles } = useVehiclesLive(fetchVehicles, { pollMs });
  const [selectedVehicleId, setSelectedVehicleId] = useState<string | null>(
    null,
  );
  const [route, setRoute] = useState<RoutePoint[]>([]);
  const [liveRoute, setLiveRoute] = useState<{ lat: number; lng: number }[]>(
    [],
  );

  // Track all positions for the first vehicle since live tracking started
  React.useEffect(() => {
    if (vehicles.length > 0) {
      setLiveRoute((prev) => {
        const last = prev.length > 0 ? prev[prev.length - 1] : null;
        const curr = { lat: vehicles[0].lat, lng: vehicles[0].lng };
```

### components/maps/MapLoader.tsx

```
"use client";
import React from "react";
import { useLoadScript } from "@react-google-maps/api";

export default function MapLoader({ children }: { children: React.ReactNode }) {
  const { isLoaded, loadError } = useLoadScript({
    googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_KEY || "",
  });

  if (loadError) return <div style={{ padding: 16, color: "red" }}>Map load error: {String(loadError)}</div>;
  if (!isLoaded) return <div style={{ padding: 16 }}>Loading map</div>;
  return <>{children}</>;
}
```

### components/maps/PlaybackControls.tsx

```
"use client";

import React from "react";

export default function PlaybackControls({
  isPlaying,
  progress,
  onPlay,
  onPause,
  onSeek,
}: {
  isPlaying: boolean;
  progress: number; // 0..1
  onPlay: () => void;
  onPause: () => void;
  onSeek: (t: number) => void;
}) {
  return (
    <div style={{ display: "flex", gap: 12, alignItems: "center", padding: 12 }}>
      {!isPlaying ? (
        <button onClick={onPlay} style={{ padding: "6px 12px" }}>Play</button>
      ) : (
        <button onClick={onPause} style={{ padding: "6px 12px" }}>Pause</button>
      )}

      <input
        type="range"
        min={0}
        max={1000}
        value={Math.round(progress * 1000)}
        onChange={(e) => onSeek(Number(e.target.value) / 1000)}
        style={{ flex: 1 }}
      />

      <div style={{ width: 60, textAlign: "right" }}>{Math.round(progress * 100)}%</div>
    </div>
  );
}
```

### components/maps/VehicleMap.tsx

```
"use client";

import React, { useEffect, useMemo, useRef, useState } from "react";
import { GoogleMap, InfoWindow, MarkerF, PolylineF } from "@react-google-maps/api";
// import { MarkerClusterer } from "@googlemaps/markerclusterer";
import type { RoutePoint, Vehicle } from "@/lib/mapTypes";

type Props = {
  vehicles: Vehicle[];
  // optional route overlay
  route?: RoutePoint[];
  // running vehicle position (for playback)
  runner?: { lat: number; lng: number; heading?: number | undefined } | null;
  zoom?: number;
  center?: { lat: number; lng: number };
  height?: string;
  onVehicleClick?: (v: Vehicle) => void;
  liveRoute?: { lat: number; lng: number }[];
  bounds?: google.maps.LatLngBounds | null;
};

export default function VehicleMap({
  vehicles,
  route,
  runner,
  zoom = 6,
  center = { lat: 20.5937, lng: 78.9629 },
  height = "80vh",
  onVehicleClick,
  liveRoute,
  bounds,
}: Props) {
  // GoogleMap onLoad handler
  const onLoad = (map: google.maps.Map) => {
    // Auto-fit bounds if provided (for multi-vehicle)
    if (bounds && vehicles.length > 1) {
      map.fitBounds(bounds, 80); // 80px padding
    }
  };
  // Map style
```

### components/maps/hooks/useRoutePlayback.ts

```
"use client";

import { useEffect, useRef, useState } from "react";
import type { RoutePoint } from "@/lib/mapTypes";

function lerp(a: number, b: number, t: number) {
  return a + (b - a) * t;
}

export function useRoutePlayback(route: RoutePoint[], speed = 1) {
  // speed: 1 = normal, 2 = faster, etc
  const [isPlaying, setIsPlaying] = useState(false);
  const [progress, setProgress] = useState(0); // 0..1
  const raf = useRef<number | null>(null);
  const startTime = useRef<number>(0);
  const startProgress = useRef<number>(0);

  const durationMs = Math.max(2000, route.length * 200); // simple heuristic (adjust as you like)

  useEffect(() => {
    // reset when route changes
    setIsPlaying(false);
    setProgress(0);
    if (raf.current) cancelAnimationFrame(raf.current);
    raf.current = null;
  }, [route]);

  const play = () => {
    if (!route?.length) return;
    setIsPlaying(true);
    startTime.current = performance.now();
    startProgress.current = progress;

    const step = (now: number) => {
      const elapsed = (now - startTime.current) * speed;
      const t = Math.min(1, startProgress.current + elapsed / durationMs);
      setProgress(t);

      if (t < 1) raf.current = requestAnimationFrame(step);
      else setIsPlaying(false);
```

### components/maps/hooks/useVehiclesLive.ts

```
"use client";

import { useEffect, useRef, useState } from "react";
import type { Vehicle } from "@/lib/mapTypes";

function lerp(a: number, b: number, t: number) {
  return a + (b - a) * t;
}

type Options = {
  pollMs?: number;
  smoothMs?: number;
};

export function useVehiclesLive(fetchVehicles: () => Promise<Vehicle[]>, opts: Options = {}) {
  const pollMs = opts.pollMs ?? 3000;
  const smoothMs = opts.smoothMs ?? 900;

  const [vehicles, setVehicles] = useState<Vehicle[]>([]);
  const prevRef = useRef<Map<string, Vehicle>>(new Map());
  const animRef = useRef<number | null>(null);

  useEffect(() => {
    let timer: any;

    let isUnmounted = false;

    const tick = async () => {
      const latest = await fetchVehicles();
      if (!latest) return;

      const prevMap = prevRef.current;
      const nextMap = new Map(latest.map(v => [v.id, v]));

      // animate positions from prev -> latest
      const start = performance.now();

      if (animRef.current) cancelAnimationFrame(animRef.current);

      const step = (now: number) => {
```

### context/AuthContext.jsx

```
"use client";
import { createContext, useContext, useState } from "react";

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isLoggedIn, setIsLoggedIn] = useState(true);

  const login = () => setIsLoggedIn(true);
  const logout = () => setIsLoggedIn(false);

  return (
    <AuthContext.Provider value={{ isLoggedIn, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);
```

### context/ColorContext.jsx

```
"use client";
import { createContext, useContext, useState } from "react";

const ColorContext = createContext();

export const useColor = () => {
  const context = useContext(ColorContext);
  if (!context) {
    throw new Error("useColor must be used within a ColorProvider");
  }
  return context;
};

const hexToHsl = (hex) => {
  let r = parseInt(hex.slice(1, 3), 16) / 255;
  let g = parseInt(hex.slice(3, 5), 16) / 255;
  let b = parseInt(hex.slice(5, 7), 16) / 255;

  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  let h,
    s,
    l = (max + min) / 2;

  if (max === min) {
    h = s = 0;
  } else {
    const d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    switch (max) {
      case r:
        h = (g - b) / d + (g < b ? 6 : 0);
        break;
      case g:
        h = (b - r) / d + 2;
        break;
      case b:
        h = (r - g) / d + 4;
        break;
      default:
```

### context/LayoutContext.jsx

```
// context/LayoutContext.jsx
"use client";
import { createContext, useContext, useState } from "react";

const LayoutContext = createContext();

export const useLayout = () => {
  const context = useContext(LayoutContext);
  if (!context) {
    throw new Error("useLayout must be used within a LayoutProvider");
  }
  return context;
};

export const LayoutProvider = ({ children }) => {
  const [layout, setLayout] = useState("sidebar"); // "sidebar" or "topnav"

  return (
    <LayoutContext.Provider value={{ layout, setLayout }}>
      {children}
    </LayoutContext.Provider>
  );
};
```

### context/ThemeContext.jsx

```
"use client";
import { createContext, useContext, useEffect, useState } from "react";

const ThemeContext = createContext();

export function ThemeProvider({ children }) {
  const [isDark, setIsDark] = useState(false);
  const [primaryHsl, setPrimaryHsl] = useState("239 68% 55%");

  //  Initialize values on client side only
  useEffect(() => {
    if (typeof window !== "undefined") {
      const savedDark = localStorage.getItem("darkMode");
      const savedPrimary = localStorage.getItem("primaryHsl");

      const prefersDark = window.matchMedia(
        "(prefers-color-scheme: dark)",
      ).matches;

      // setIsDark(savedDark !== null ? savedDark === "true" : prefersDark);
      setPrimaryHsl(savedPrimary || "239 68% 55%");
    }
  }, []);

  //  Apply dark mode dynamically
  useEffect(() => {
    if (typeof window !== "undefined") {
      if (isDark) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
      localStorage.setItem("darkMode", isDark);
    }
  }, [isDark]);

  //  Apply custom primary color
  useEffect(() => {
    if (typeof window !== "undefined") {
      document.documentElement.style.setProperty("--primary", primaryHsl);
```

### eslint.config.js

```
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
```

### hooks/useGoogleMapsSdk.js

```
"use client";

import { useJsApiLoader } from "@react-google-maps/api";

const GOOGLE_MAP_LIBRARIES = [];

export function useGoogleMapsSdk() {
  const key =
    process.env.NEXT_PUBLIC_GOOGLE_MAPS_KEY ||
    process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY ||
    "AIzaSyAQvgMBRVkyU6Upw6ONKT0TsNtlHNMfEQg";

  const { isLoaded, loadError } = useJsApiLoader({
    id: "fleetbharat-google-map-script",
    googleMapsApiKey: key,
    libraries: GOOGLE_MAP_LIBRARIES,
  });

  return {
    isLoaded,
    loadError,
    hasApiKey: Boolean(key),
  };
}
```

### index.html

```
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agentix</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
```

### interfaces/account.interface.ts

```
export interface InstanceData {
  main: string;
  sub: string;
}

export interface ContactData {
  main: string;
  sub: string;
}

export interface AccountData {
  accountId: number;
  no: number;
  code: string;
  instance: InstanceData;
  contact: ContactData;
  location: string;
  status: string;
}

export interface FormData {
  accountName: string;
  accountCode: string;
  categoryId: number;
  primaryDomain: string;
  fullName: string;
  emailAddress: string;
  phoneNumber: string;
  location: string;
}

export interface Category {
  categoryId: number;
  labelName: string;
  description?: string;
  isActive?: boolean;
  createdAt?: string;
}

export interface FormRights {
```

### interfaces/card.interface.ts

```
export interface CardProps {
  children: React.ReactNode;
  className?: string;
  isDark: boolean;
}

export interface MetricCardProps {
  icon: React.ComponentType<{ className?: string }> | any;
  label: string;
  value: number;
  iconBgColor: string;
  iconColor: string;
  isDark: boolean;
}
```

### interfaces/category.interface.ts

```
// Category Interface
export interface Category {
  categoryId: number;
  labelName: string;
  description?: string;
  isActive: boolean;
  createdAt?: string;
}

// Category Form Data (for Add/Edit)
export interface CategoryFormData {
  labelName: string;
  description?: string;
  isActive?: boolean;
}

// API Response Interface
export interface CategoryResponse {
  success: boolean;
  statusCode: number;
  message: string;
  data: Category[] | Category | null;
}```

### interfaces/configuartion.interface.ts

```
// Configuration Interface
export interface Configuration {
  accountConfigurationId: number;
  accountId: number;
  accountName: string;
  mapProvider: string;
  licenseKey?: string;
  addressKey?: string;
  dateFormat: string;
  timeFormat?: string;
  distanceUnit?: string;
  speedUnit?: string;
  fuelUnit?: string;
  temperatureUnit?: string;
  addressDisplay?: string;
  defaultLanguage: string;
  allowedLanguages?: string[];
  createdOn?: string;
  updatedOn?: string;
  isActive?: boolean;
}

// Configuration Form Data (for Add/Edit)
export interface ConfigurationFormData {
  accountId: number;
  mapProvider: string;
  licenseKey?: string;
  addressKey?: string;
  dateFormat: string;
  timeFormat?: string;
  distanceUnit?: string;
  speedUnit?: string;
  fuelUnit?: string;
  temperatureUnit?: string;
  addressDisplay?: string;
  defaultLanguage: string;
  allowedLanguages?: string[];
}

// API Response Interface
```

### interfaces/dashboard.interface.ts

```
import { StaticImageData } from "next/image";

// ==================== Type Definitions ==================== //
export interface CardProps {
  children: React.ReactNode;
  className?: string;
  isDark?: boolean;
}

export interface MetricCardProps {
  icon: React.ElementType | StaticImageData | string;
  label: string;
  value: number;
  iconBgColor: string;
  iconColor: string;
  isDark?: boolean;
}

export interface AlertItemProps {
  icon: React.ElementType;
  title: string;
  time: string;
  severity: string;
  iconBg: string;
  iconColor: string;
  isDark?: boolean;
}

export interface ServerStatusItemProps {
  name: string;
  status: "Operational" | "Outage";
  isDark?: boolean;
}
```

### interfaces/header.interface.ts

```
interface BreadcrumbItem {
  label: string;
  href?: string;
}

export interface PageHeaderProps {
  title: string;
  subtitle?: string;
  breadcrumbs?: BreadcrumbItem[];
  showButton?: boolean;
  buttonText?: string;
  buttonIcon?: React.ReactNode;
  onButtonClick?: () => void;
  buttonRoute?: string;
  showExportButton?: boolean;
  ExportbuttonText?: string;
  onExportClick?: () => void;
  showFilterButton?: boolean;
  FilterbuttonText?: string;
  onFilterClick?: () => void;
  showWriteButton?: boolean;
}```

### interfaces/navbar.interface.ts

```
import { LucideIcon } from "lucide-react";

export interface MenuItem {
  id: string;
  label: string;
  icon: LucideIcon;
  active: boolean;
  path?: string;
  expandable?: boolean;
  children?: {
    id: string;
    label: string;
    icon: LucideIcon;
    path: string;
  }[];
}

export interface SidebarSection {
  title: string;
  items: MenuItem[];
}

export interface HeaderClasses {
  bg?: string;
  border?: string;
  iconHover?: string;
  profileHover?: string;
  header: string;
  text: string;
  textSecondary: string;
  hover: string;
  inputBg: string;
  inputBorder: string;
  inputText: string;
  hoverBg: string;
  dropdown: string;
  dropdownHover: string;
  useCustomBg: boolean;
  customBg?: string;
  inputPlaceholder?: string;
```

### interfaces/permission.interface.ts

```
export interface Permission {
  formId: number;
  formCode: string;
  formName: string;
  moduleName: string;
  pageUrl: string;
  isActive: boolean;
  resource: string; // for UI label
  read: boolean;
  write: boolean;
  delete: boolean;
  export: boolean;
  update: boolean;
  all?: boolean;
}

export interface RoleFormData {
  account: string;
  roleName: string;
  description: string;
  permissions: Permission[];
}

export interface RoleAccount {
  roleId: number;
  accountId: number;
  accountName: string;
  roleName: string;
  description: string;
  isSystemRole: boolean;
  assignedUsers: number;
  createdOn: Date;
}
```

### interfaces/plan.interface.ts

```
// Plan Interface
export interface PlanData {
  planId: string;
  no: number;
  planName: string;
  duration: string;
  category: string;
  pricing: string;
  userLimit: string;
  status: string;
}

export interface CardProps {
  children: React.ReactNode;
  isDark: boolean;
}



export interface Currency {
  id: number;
  value: string; // Format: "USD - US Dollar ($)"
}

export interface FormModule {
  id: number;
  value: string; // Format: "Live-Tracking", "Driver-Behavior", etc.
}

export interface TenantCategory {
  id: number;
  name: string;
  displayName: string;
}```

### interfaces/register.interface.ts

```
export interface RegisterComponentProps {
  onSwitchToLogin: () => void;
}
export interface RegisterForm {
  firstName: string;
  lastName: string;
  email: string;
  mobileNo: string;
  countryCode: string;
  password: string;
  confirmPassword: string;
  refferalCode?: string;
}
```

### interfaces/table.interface.ts

```
// table.interface.ts

export interface Column {
  key: string;
  label: string;
  type?: "text" | "badge" | "link" | "icon-text" | "multi-line" | "date";
  visible?: boolean;
  icon?: React.ReactNode;
  mainStyle?: string;
  subStyle?: string;
  render?: (value: any, row: any) => React.ReactNode;
}

export interface CommonTableProps {
  columns: Column[];
  data: any[];
  onEdit?: (row: any) => void;
  onDelete?: (row: any) => void;
  showActions?: boolean;
  searchPlaceholder?: string;
  rowsPerPageOptions?: number[];
  defaultRowsPerPage?: number;
  variant?: "default" | "simple";
  pageNo: number;
  pageSize: number;
  onPageChange: (page: number) => void;
  onPageSizeChange: (size: number) => void;
  searchQuery?: string;
  setSearchQuery?: (val: string) => void;
  totalRecords?: number;
  isServerSide?: boolean;
}

export interface HierarchyNode {
  id: string;
  name: string;
  type: string;
  code: string;
  status: string;
  managed: string;
```

### interfaces/user.interface.ts

```
export interface UserFormData {
  accountName: string;
  accountCode: string;
  accountId: number;
  primaryDomain: string;
  fullName: string;
  emailAddress: string;
  phoneNumber: string;
  location: string;
  roleId: number;
  avatar?: string; // Avatar URL or base64 string
  avatarFile?: File | null; // Avatar file for upload
}

export interface UserItem {
  userId: string;
  fullName: string;
  email: string;
  roleId: number;
  roleName: string;
  accountId: number;
  accountName: string;
  status: boolean;
  twoFactorEnabled: boolean;
  lastLoginAt: string | null;
  avatar?: string; // Avatar URL for display
}```

### interfaces/whitelabel.interface.ts

```
// White Label Interface
export interface WhiteLabel {
  whiteLabelId: number;
  accountId: number;
  accountName: string;
  customEntryFqdn: string;
  logoUrl: string;
  primaryColorHex: string;
  secondaryColorHex: string;
  isActive: boolean;
  createdOn: string;
  updatedOn: string | null;
}

// White Label Form Data (for Add/Edit)
export interface WhiteLabelFormData {
  accountId: number;
  customEntryFqdn: string;
  logoUrl: string;
  primaryColorHex: string;
  secondaryColorHex: string;
  isActive: boolean;
}

// White Label Update Data (PUT request)
export interface WhiteLabelUpdateData {
  customEntryFqdn: string;
  logoUrl: string;
  primaryColorHex: string;
  secondaryColorHex: string;
  isActive: boolean;
}

// Paginated Response Interface
export interface WhiteLabelPaginatedResponse {
  success: boolean;
  statusCode: number;
  message: string;
  data: {
    page: number;
```

### lib/mapTypes.ts

```
export type Vehicle = {
  id: string;                 // vehicleId / deviceId / number plate
  name?: string;              // display name
  lat: number;
  lng: number;
  speed?: number;
  heading?: number;           // degrees
  timestamp?: string;
  status?: string;            // online/offline/ignition etc
  [key: string]: any;
};

export type RoutePoint = {
  lat: number;
  lng: number;
  timestamp?: string;
  speed?: number;
  heading?: number;
  [key: string]: any;
};
```

### next-env.d.ts

```
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
```

### next.config.ts

```
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
```

### package-lock.json

```
{
  "name": "my-next-app",
  "version": "0.1.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "my-next-app",
      "version": "0.1.0",
      "dependencies": {
        "@googlemaps/markerclusterer": "^2.6.2",
        "@react-google-maps/api": "^2.20.8",
        "axios": "^1.13.2",
        "js-cookie": "^3.0.5",
        "leaflet": "^1.9.4",
        "lucide-react": "^0.562.0",
        "next": "^16.1.3",
        "react": "^19.2.3",
        "react-colorful": "^5.6.1",
        "react-dom": "^19.2.3",
        "react-select": "^5.10.2",
        "react-toastify": "^11.0.5",
        "recharts": "^3.6.0"
      },
      "devDependencies": {
        "@biomejs/biome": "2.2.0",
        "@tailwindcss/postcss": "^4",
        "@types/js-cookie": "^3.0.6",
        "@types/node": "^20",
        "@types/react": "^19",
        "@types/react-dom": "^19",
        "autoprefixer": "^10.4.23",
        "postcss": "^8.5.6",
        "tailwindcss": "^4.1.18",
        "typescript": "^5"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
```

### package.json

```
{
  "name": "my-next-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "biome check",
    "format": "biome format --write"
  },
  "dependencies": {
    "@googlemaps/markerclusterer": "^2.6.2",
    "@react-google-maps/api": "^2.20.8",
    "axios": "^1.13.2",
    "js-cookie": "^3.0.5",
    "leaflet": "^1.9.4",
    "lucide-react": "^0.562.0",
    "next": "^16.1.3",
    "react": "^19.2.3",
    "react-colorful": "^5.6.1",
    "react-dom": "^19.2.3",
    "react-select": "^5.10.2",
    "react-toastify": "^11.0.5",
    "recharts": "^3.6.0"
  },
  "devDependencies": {
    "@biomejs/biome": "2.2.0",
    "@tailwindcss/postcss": "^4",
    "@types/js-cookie": "^3.0.6",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "autoprefixer": "^10.4.23",
    "postcss": "^8.5.6",
    "tailwindcss": "^4.1.18",
    "typescript": "^5"
  }
}
```

### postcss.config.mjs

```
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
```

### providers/ToastProvider.tsx

```
"use client";

import { ToastContainer } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";

export default function ToastProvider() {
  return (
    <ToastContainer
      position="top-right"
      autoClose={3000}
      hideProgressBar={false}
      newestOnTop={false}
      closeOnClick
      pauseOnHover
      draggable
      theme="colored"
    />
  );
}
```

### proxy.ts

```
import { NextResponse } from "next/server";
import type { NextRequest } from "next/server";

export function proxy(request: NextRequest) {
  const { pathname } = request.nextUrl;

  //  VERY IMPORTANT: allow next internals
  if (
    pathname.startsWith("/_next") ||
    pathname.startsWith("/api") ||
    pathname === "/favicon.ico" ||
    pathname === "/manifest.json"
  ) {
    return NextResponse.next();
  }

  const token = request.cookies.get("authToken")?.value;
  const isPublicPath = pathname === "/";

  if (!token && !isPublicPath) {
    return NextResponse.redirect(new URL("/", request.url));
  }

  if (token && isPublicPath) {
    return NextResponse.redirect(new URL("/dashboard", request.url));
  }

  return NextResponse.next();
}
```

### services/accountService.js

```
// src/features/auth/authService.js
import api from "./apiService";

export const getAccounts = async (page, pageSize, searchQuery) => {
  const res = await api.get(
    `/api/accounts?page=${page}&pageSize=${pageSize}&search=${searchQuery}`,
  );
  return res.data;
};

export const getCategoreis = async () => {
  const res = await api.get(`/api/categories`);
  return res.data;
};

export const saveAccount = async (payload) => {
  try {
    const res = await api.post(`/api/accounts`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in saveCategory:", error);

    // Handle different error response structures safely
    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
        data: null,
      }
    );
  }
};

export const getAccountById = async (id) => {
  const res = await api.get(`/api/accounts/${id}`);
  return res.data;
};

export const updateAccount = async (payload, id) => {
```

### services/apiService.js

```

import axios from "axios";

const api = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL,
});

// Separate instance for VTS (map) API
export const vtsApi = axios.create({
  baseURL: process.env.NEXT_PUBLIC_VTS_API_BASE_URL,
});

//  Request Interceptor
api.interceptors.request.use(
  (config) => {
    // Add Bearer Token
    if (typeof window !== "undefined") {
      const token = localStorage.getItem("authToken");
      if (token) {
        config.headers.Authorization = `Bearer ${token}`;
      }
    }

    // Auto-detect and set Content-Type
    if (config.data instanceof FormData) {
      // Let browser set Content-Type with boundary for FormData
      delete config.headers["Content-Type"];
    } else if (!config.headers["Content-Type"]) {
      // Default to JSON for other requests
      config.headers["Content-Type"] = "application/json";
    }

    return config;
  },
  (error) => Promise.reject(error),
);

//  Response Interceptor
api.interceptors.response.use(
  (response) => response,
```

### services/authService.js

```
// src/features/auth/authService.js
import api from "./apiService";

export const loginUser = async (email, password) => {
  const res = await api.post("/api/auth/login", { email, password });
  return res.data;
};

export const registerUser = async (userData) => {
  const res = await api.post("/api/auth/signup", userData);
  return res.data;
};

export const forgotPassword = async (email) => {
  const res = await api.post("/api/auth/forgot-password", { email });
  return res.data;
};```

### services/categoryService.js

```
import api from "./apiService";

//  Get Categories (List)
export const getCategories = async () => {
  const res = await api.get(`/api/categories`);
  return res.data;
};

//  Get Category By ID
export const getCategoryById = async (id) => {
  const res = await api.get(`/api/categories/${id}`);
  return res.data;
};

//  Save Category
export const saveCategory = async (payload) => {
  try {
    const res = await api.post(`/api/categories`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in saveCategory:", error);

    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
        data: null,
      }
    );
  }
};

//  Update Category
export const updateCategory = async (payload, id) => {
  try {
    const res = await api.put(`/api/categories/${id}`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in updateCategory:", error);
```

### services/commonServie.js

```
import api from "./apiService";

export const getAllAccounts = async () => {
  const res = await api.get(`/api/common/dropdowns/accounts`);
  return res.data;
};

export const getAllRoles = async (id) => {
  const res = await api.get(`/api/common/dropdowns/roles?accountId=${id}`);
  return res.data;
};

export const getCountries = async () => {
  const res = await api.get(`/api/countries`);
  return res.data;
};

export const getStatesByCountry = async (countryId) => {
  const res = await api.get(`/api/states/by-country/${countryId}`);
  return res.data;
};

export const getCitiesByState = async (stateId) => {
  const res = await api.get(`/api/cities/by-state/${stateId}`);
  return res.data;
};

export const getRoleById = async (roleId, accountId) => {
  const res = await api.get(`/api/roles/${roleId}?accountId=${accountId}`);
  return res.data;
};

export const getUserRoleData = async () => {
  try {
    // Get user data from localStorage
    const userString = localStorage.getItem("user");
    if (!userString) {
      console.error("No user data found in localStorage");
      return null;
    }
```

### services/configurationService.js

```
import api from "./apiService";

//  Get Configurations (List with pagination)
export const getConfigurations = async (page = 1, pageSize = 10) => {
  const res = await api.get(`/api/account-configurations?page=${page}&pageSize=${pageSize}`);
  return res.data;
};

//  Get Configuration By ID
export const getConfigurationById = async (id) => {
  const res = await api.get(`/api/account-configurations/${id}`);
  return res.data;
};

//  Save Configuration
export const saveConfiguration = async (payload) => {
  try {
    const res = await api.post(`/api/account-configurations`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in saveConfiguration:", error);

    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
        data: null,
      }
    );
  }
};

//  Update Configuration
export const updateConfiguration = async (payload, id) => {
  try {
    const res = await api.put(`/api/account-configurations/${id}`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in updateConfiguration:", error);
```

### services/formService.js

```
import api from "./apiService";

export const getAllForms = async (page, pageSize) => {
  const res = await api.get(`/api/forms?page=${page}&pageSize=${pageSize}`);
  return res.data;
};
```

### services/liveTrackingService.js

```
import { vtsApi } from "./apiService";
import axios from "axios";

const LIVE_TRACKING_BASE_URL =
  process.env.NEXT_PUBLIC_LIVE_TRACKING_BASE_URL || "http://fleetbharat.com:8080";

const liveTrackingApi = axios.create({
  baseURL: LIVE_TRACKING_BASE_URL,
});

export const DEFAULT_FLEET_VEHICLES = [
  "AP11AA1111",
  "HR29CA6032",
  "DL8CAF5031",
];

function asNumber(value) {
  const n = Number(value);
  return Number.isFinite(n) ? n : null;
}

function asString(value) {
  if (value === undefined || value === null) return "";
  return String(value).trim();
}

function pickFirst(obj, keys) {
  if (!obj || typeof obj !== "object") return undefined;
  for (const key of keys) {
    if (obj[key] !== undefined && obj[key] !== null && obj[key] !== "") {
      return obj[key];
    }
  }
  return undefined;
}

function normalizeStatus(rawStatus, speed, ignition) {
  const status = asString(rawStatus).toUpperCase().replaceAll("-", "_");
  const ign = asString(ignition).toUpperCase();

```

### services/planService.js

```
import api from "./apiService";

export const getPlans = async (page, pageSize, searchQuery) => {
  const res = await api.get(
    `/api/plans?page=${page}&pageSize=${pageSize}&search=${searchQuery}`,
  );
  return res.data;
};

export const createPlan = async (payload) => {
  try {
    const res = await api.post(`/api/plans`, payload);
    return res.data;
  } catch (error) {
    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
        data: null,
      }
    );
  }
};

export const deletePlan = async (id) => {
  const res = await api.delete(`/api/plans/${id}`);
  return res.data;
};

export const updatePlan = async (id, payload) => {
  try {
    const res = await api.put(`/api/plans/${id}`, payload);
    return res.data;
  } catch (error) {
    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
```

### services/rolesService.js

```
import api from "./apiService";

export const getRoles = async (page, pageSize, searchQuery) => {
  const res = await api.get(
    `/api/roles/GetAllRole?page=${page}&pageSize=${pageSize}`,
  );
  return res.data;
};

export const createRole = async (payload) => {
  try {
    const res = await api.post(`/api/roles`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in save:", error);

    // Handle different error response structures safely
    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
        data: null,
      }
    );
  }
};

export const getRoleById = async (id, accountId) => {
  const res = await api.get(`/api/roles/${id}?accountId=${accountId}`);
  return res.data;
};

export const updateRole = async (id, payload) => {
  try {
    const res = await api.put(`/api/roles/${id}`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in save:", error);

```

### services/userService.js

```
import api from "./apiService";

export const getUsers = async (page, pageSize, searchQuery) => {
  const res = await api.get(
    `/api/users/GetAllUser??page=${page}&pageSize=${pageSize}`,
  );
  return res.data;
};

export const getUserById = async (id) => {
  const res = await api.get(`/api/users/${id}?userId=${id}`);
  return res.data;
};

export const createUser = async (payload) => {
  try {
    const formData = new FormData();

    formData.append("FirstName", payload.FirstName);
    formData.append("LastName", payload.LastName);
    formData.append("Email", payload.Email);
    formData.append("Password", payload.Password);
    formData.append("MobileNo", payload.MobileNo || "");
    formData.append("AccountId", payload.AccountId.toString());
    formData.append("RoleId", payload.RoleId.toString());
    formData.append("Status", payload.Status.toString());
    formData.append("TwoFactorEnabled", payload.TwoFactorEnabled.toString());

    // Handle array properly
    if (payload.AdditionalPermissions && Array.isArray(payload.AdditionalPermissions)) {
      payload.AdditionalPermissions.forEach((permission) => {
        formData.append("AdditionalPermissions", JSON.stringify(permission));
      });
    }

    if (payload.ProfileImage) {
      formData.append("ProfileImage", payload.ProfileImage);
    }

    const res = await api.post("/api/users", formData, {
```

### services/whitelabelService.js

```
import api from "./apiService";

//  Get White Labels (List with Pagination)
export const getWhiteLabels = async (page = 1, pageSize = 10) => {
  const res = await api.get(`/api/white-labels?page=${page}&pageSize=${pageSize}`);
  return res.data;
};

//  Get White Label By ID
export const getWhiteLabelById = async (id) => {
  const res = await api.get(`/api/white-labels/${id}`);
  return res.data;
};

//  Get White Label By Account ID
export const getWhiteLabelByAccountId = async (accountId) => {
  const res = await api.get(`/api/white-labels/by-account/${accountId}`);
  return res.data;
};

//  Save White Label
export const saveWhiteLabel = async (payload) => {
  try {
    const res = await api.post(`/api/white-labels`, payload);
    return res.data;
  } catch (error) {
    console.error("API Error in saveWhiteLabel:", error);

    return (
      error.response?.data || {
        success: false,
        statusCode: error.response?.status || 500,
        message: error.response?.data?.message || "Network or server error",
        data: null,
      }
    );
  }
};

//  Update White Label
```

### tailwind.config.js

```
/** @type {import('tailwindcss').Config} */
module.exports = {
  darkMode: 'class', //  This is critical for dark mode to work
  content: [
    './pages/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
    './app/**/*.{js,ts,jsx,tsx,mdx}',
    './src/**/*.{js,ts,jsx,tsx,mdx}', // if you're using src directory
  ],
  theme: {
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
      },
    },
  },
  plugins: [],
}```

### tsconfig.json

```
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
, "app/(protected)/fleet/page.jsx"  ],
  "exclude": ["node_modules"]
}
```

### utils/carMarkerIcon.ts

```
interface CarMarkerSvgOptions {
  color?: string;
  strokeColor?: string;
  isActive?: boolean;
  size?: number;
  direction?: number;
}

export function getCarMarkerSvg(options: CarMarkerSvgOptions = {}): string {
  const {
    color = "#10b981",
    strokeColor = "#0f172a",
    isActive = false,
    size = 48,
    direction = 0,
  } = options;

  return `data:image/svg+xml;utf-8,${encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}" viewBox="0 0 48 48">
      <defs>
        <linearGradient id="carGradient-${color.replace("#", "")}" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:${color};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${color};stop-opacity:0.85" />
        </linearGradient>
        <filter id="shadow">
          <feDropShadow dx="0" dy="1" stdDeviation="1.5" flood-opacity="0.3"/>
        </filter>
      </defs>
      <g transform="translate(24, 24) rotate(${Number.isFinite(direction) ? direction : 0})" filter="url(#shadow)">
        <path d="M -9,-14 L -9,14 Q -9,15 -8,15 L 8,15 Q 9,15 9,14 L 9,-14 Q 9,-15 8,-15 L -8,-15 Q -9,-15 -9,-14 Z"
              fill="url(#carGradient-${color.replace("#", "")})"
              stroke="${strokeColor}"
              stroke-width="${isActive ? "2" : "1.2"}"/>
        <rect x="-7" y="-13" width="14" height="5" rx="1.5" fill="#000000" opacity="0.15"/>
        <path d="M -6.5,-7 L -6.5,-2 L 6.5,-2 L 6.5,-7 Z" fill="#1e293b" opacity="0.6"/>
        <path d="M -6.5,2 L -6.5,7 L 6.5,7 L 6.5,2 Z" fill="#1e293b" opacity="0.5"/>
        <rect x="-7" y="8" width="14" height="5" rx="1.5" fill="#000000" opacity="0.1"/>
        <ellipse cx="-9.5" cy="0" rx="1.8" ry="2.5" fill="${color}" stroke="${strokeColor}" stroke-width="0.8" opacity="0.95"/>
        <ellipse cx="9.5" cy="0" rx="1.8" ry="2.5" fill="${color}" stroke="${strokeColor}" stroke-width="0.8" opacity="0.95"/>
        <circle cx="-5" cy="-13.5" r="1.3" fill="#ffffff" opacity="0.95"/>
```

### utils/themeUtils.ts

```
export function hexToHSL(hex: string) {
  hex = hex.replace("#", "");
  let r = parseInt(hex.substring(0, 2), 16) / 255;
  let g = parseInt(hex.substring(2, 4), 16) / 255;
  let b = parseInt(hex.substring(4, 6), 16) / 255;

  const cmin = Math.min(r, g, b);
  const cmax = Math.max(r, g, b);
  const delta = cmax - cmin;
  let h = 0,
    s = 0,
    l = 0;

  if (delta === 0) h = 0;
  else if (cmax === r) h = ((g - b) / delta) % 6;
  else if (cmax === g) h = (b - r) / delta + 2;
  else h = (r - g) / delta + 4;

  h = Math.round(h * 60);
  if (h < 0) h += 360;

  l = (cmax + cmin) / 2;
  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
  s = +(s * 100).toFixed(1);
  l = +(l * 100).toFixed(1);

  return `${h} ${s}% ${l}%`;
}

export function applyWhiteLabelColors(
  whiteLabel: any,
  handleColorChange?: (hex: string) => void
) {
  if (!whiteLabel) return;

  const root = document.documentElement;
  const isDark = root.classList.contains("dark");

  const { primaryColorHex, secondaryColorHex } = whiteLabel;

```

### utils/useWhiteLabelColors.ts

```
import { useEffect, useState } from "react";

interface WhiteLabelSettings {
  whiteLabelId: number;
  customEntryFqdn: string;
  logoUrl: string;
  primaryColorHex: string;
  secondaryColorHex: string;
}

interface WhiteLabelColors {
  primary: string;
  secondary: string;
}

/**
 * Custom hook to get white label colors from localStorage
 * Returns primary and secondary colors, with fallback defaults
 */
export const useWhiteLabelColors = (): WhiteLabelColors => {
  const [colors, setColors] = useState<WhiteLabelColors>({
    primary: "#30c5e3",
    secondary: "#ffffff",
  });

  useEffect(() => {
    if (typeof window !== "undefined") {
      try {
        const whiteLabelData = localStorage.getItem("whiteLabelSettings");
        if (whiteLabelData) {
          const settings: WhiteLabelSettings = JSON.parse(whiteLabelData);
          setColors({
            primary: settings.primaryColorHex || "#30c5e3",
            secondary: settings.secondaryColorHex || "#ffffff",
          });
        }
      } catch (error) {
        console.error("Error loading white label settings:", error);
      }
    }
```

### utils/utils.ts

```
export const getInitials = (name?: string) => {
  if (!name) return "U";
  return name
    .split(" ")
    .map(n => n[0])
    .join("")
    .slice(0, 2)
    .toUpperCase();
};
```

